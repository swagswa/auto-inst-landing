# –ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ —Å–∏—Å—Ç–µ–º—ã –∞–≤—Ç–æ–ø–æ—Å—Ç–∏–Ω–≥–∞ –≤ Instagram

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

1. [–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã](#–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞-—Å–∏—Å—Ç–µ–º—ã)
2. [–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞](#—Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è-–∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞)
3. [–ù–∞—Å—Ç—Ä–æ–π–∫–∞ —ç–º—É–ª—è—Ç–æ—Ä–æ–≤](#–Ω–∞—Å—Ç—Ä–æ–π–∫–∞-—ç–º—É–ª—è—Ç–æ—Ä–æ–≤)
4. [–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –∏ —Å–∫—Ä–∏–ø—Ç—ã](#–∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è-–∏-—Å–∫—Ä–∏–ø—Ç—ã)
5. [–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞–∫–∫–∞—É–Ω—Ç–∞–º–∏](#–±–∞–∑–∞-–¥–∞–Ω–Ω—ã—Ö-–∏-—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ-–∞–∫–∫–∞—É–Ω—Ç–∞–º–∏)
6. [–°–∏—Å—Ç–µ–º–∞ –ø—Ä–æ–∫—Å–∏ –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å](#—Å–∏—Å—Ç–µ–º–∞-–ø—Ä–æ–∫—Å–∏-–∏-–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å)
7. [–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ](#–º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥-–∏-–ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ)
8. [–†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –∏ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ](#—Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ-–∏-–º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ)
9. [–û–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è](#–æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ-–∏-–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è)

---

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã

### –û–±—â–∞—è —Å—Ö–µ–º–∞

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   Web Panel     ‚îÇ    ‚îÇ  Control Server ‚îÇ    ‚îÇ  Emulator Farm  ‚îÇ
‚îÇ   (Frontend)    ‚îÇ‚óÑ‚îÄ‚îÄ‚ñ∫‚îÇ   (Backend)     ‚îÇ‚óÑ‚îÄ‚îÄ‚ñ∫‚îÇ   (LDPlayer)    ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚îÇ                       ‚îÇ                       ‚îÇ
         ‚îÇ                       ‚îÇ                       ‚îÇ
         ‚ñº                       ‚ñº                       ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ    Database     ‚îÇ    ‚îÇ  Proxy Manager  ‚îÇ    ‚îÇ  Content Store  ‚îÇ
‚îÇ   (PostgreSQL)  ‚îÇ    ‚îÇ   (Rotating)    ‚îÇ    ‚îÇ   (Media Files) ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–∏—Å—Ç–µ–º—ã

#### 1. **Control Server (–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π —Å–µ—Ä–≤–µ—Ä)**
- **–Ø–∑—ã–∫:** Python 3.9+
- **–§—Ä–µ–π–º–≤–æ—Ä–∫:** FastAPI –∏–ª–∏ Django
- **–§—É–Ω–∫—Ü–∏–∏:**
  - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–¥–∞—á–∞–º–∏ –ø–æ—Å—Ç–∏–Ω–≥–∞
  - –ö–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—è —ç–º—É–ª—è—Ç–æ—Ä–æ–≤
  - API –¥–ª—è –≤–µ–±-–ø–∞–Ω–µ–ª–∏
  - –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∑–∞–¥–∞—á

#### 2. **Emulator Farm (–§–µ—Ä–º–∞ —ç–º—É–ª—è—Ç–æ—Ä–æ–≤)**
- **–≠–º—É–ª—è—Ç–æ—Ä:** LDPlayer 9
- **–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è:** Appium + Python
- **–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ:** 100+ –∏–Ω—Å—Ç–∞–Ω—Å–æ–≤
- **–†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ:** 15-20 –Ω–∞ —Å–µ—Ä–≤–µ—Ä

#### 3. **Database (–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö)**
- **–°–£–ë–î:** PostgreSQL 14+
- **–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞:** MySQL 8.0+
- **–§—É–Ω–∫—Ü–∏–∏:**
  - –•—Ä–∞–Ω–µ–Ω–∏–µ –∞–∫–∫–∞—É–Ω—Ç–æ–≤
  - –ò—Å—Ç–æ—Ä–∏—è –ø–æ—Å—Ç–æ–≤
  - –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

#### 4. **Web Panel (–í–µ–±-–ø–∞–Ω–µ–ª—å)**
- **Frontend:** React.js + TypeScript
- **UI Framework:** Material-UI –∏–ª–∏ Ant Design
- **–§—É–Ω–∫—Ü–∏–∏:**
  - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞–∫–∫–∞—É–Ω—Ç–∞–º–∏
  - –ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ—Å—Ç–æ–≤
  - –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏

---

## üñ•Ô∏è –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ —Å–µ—Ä–≤–µ—Ä–∞–º

#### **–û—Å–Ω–æ–≤–Ω–æ–π —Å–µ—Ä–≤–µ—Ä (Control Server)**
```yaml
–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏:
  CPU: 8+ —è–¥–µ—Ä (Intel i7/Xeon –∏–ª–∏ AMD Ryzen 7)
  RAM: 32GB DDR4
  Storage: 1TB NVMe SSD
  Network: 1Gbps
  OS: Ubuntu 20.04 LTS –∏–ª–∏ Windows Server 2019

–†–æ–ª—å:
  - –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
  - –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
  - –í–µ–±-–ø–∞–Ω–µ–ª—å
  - API —Å–µ—Ä–≤–µ—Ä
```

#### **–°–µ—Ä–≤–µ—Ä—ã —ç–º—É–ª—è—Ç–æ—Ä–æ–≤ (Emulator Nodes)**
```yaml
–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏:
  CPU: 16+ —è–¥–µ—Ä (–≤—ã—Å–æ–∫–∞—è —á–∞—Å—Ç–æ—Ç–∞ –≤–∞–∂–Ω–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞)
  RAM: 64GB DDR4
  Storage: 2TB NVMe SSD
  GPU: –ù–µ –∫—Ä–∏—Ç–∏—á–Ω–æ (–≤—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –ø–æ–¥–æ–π–¥–µ—Ç)
  Network: 1Gbps
  OS: Windows 10/11 Pro –∏–ª–∏ Windows Server

–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–º—É–ª—è—Ç–æ—Ä–æ–≤ –Ω–∞ —Å–µ—Ä–≤–µ—Ä: 15-20
–û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–µ—Ä–≤–µ—Ä–æ–≤: 5-7 —à—Ç—É–∫
```

### –°–µ—Ç–µ–≤–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
Internet
    ‚îÇ
    ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   Load Balancer ‚îÇ (Nginx/HAProxy)
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
    ‚îÇ
    ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  Control Server ‚îÇ (API + Web Panel)
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
    ‚îÇ
    ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  Internal VPN   ‚îÇ (WireGuard/OpenVPN)
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
    ‚îÇ
    ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ Emulator Nodes  ‚îÇ (LDPlayer Instances)
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## üì± –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —ç–º—É–ª—è—Ç–æ—Ä–æ–≤

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ LDPlayer

#### **–°–∏—Å—Ç–µ–º–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è**
```powershell
# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–∏—Å—Ç–µ–º—ã
Get-ComputerInfo | Select-Object TotalPhysicalMemory, CsProcessors
Get-WmiObject -Class Win32_LogicalDisk | Where-Object {$_.DriveType -eq 3}

# –í–∫–ª—é—á–µ–Ω–∏–µ –≤–∏—Ä—Ç—É–∞–ª–∏–∑–∞—Ü–∏–∏ –≤ BIOS
# Intel: VT-x
# AMD: AMD-V
```

#### **–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞**
```powershell
# –°–∫–∞—á–∏–≤–∞–Ω–∏–µ LDPlayer
Invoke-WebRequest -Uri "https://ldinst.ldmnq.com/download/LDPlayer9_ld.exe" -OutFile "LDPlayer9.exe"

# –¢–∏—Ö–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞
.\LDPlayer9.exe /S /D=C:\LDPlayer

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö —Å—Ä–µ–¥—ã
[Environment]::SetEnvironmentVariable("LDPLAYER_PATH", "C:\LDPlayer", "Machine")
```

### –°–æ–∑–¥–∞–Ω–∏–µ —ç–º—É–ª—è—Ç–æ—Ä–∞-—à–∞–±–ª–æ–Ω–∞

#### **–ë–∞–∑–æ–≤—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏**
```json
{
  "emulator_settings": {
    "name": "Instagram_Template",
    "android_version": "7.1",
    "resolution": "720x1280",
    "dpi": 320,
    "ram": 1024,
    "cpu_cores": 2,
    "graphics": "DirectX",
    "root": false,
    "shared_folder": true
  }
}
```

#### **–°–∫—Ä–∏–ø—Ç —Å–æ–∑–¥–∞–Ω–∏—è —à–∞–±–ª–æ–Ω–∞**
```python
import subprocess
import json
import time

class LDPlayerManager:
    def __init__(self, ldplayer_path="C:\\LDPlayer"):
        self.ldplayer_path = ldplayer_path
        self.ldconsole = f"{ldplayer_path}\\ldconsole.exe"
    
    def create_emulator(self, name, settings):
        """–°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —ç–º—É–ª—è—Ç–æ—Ä–∞"""
        cmd = [
            self.ldconsole,
            "add",
            "--name", name,
            "--cpu", str(settings["cpu_cores"]),
            "--memory", str(settings["ram"]),
            "--resolution", settings["resolution"],
            "--dpi", str(settings["dpi"])
        ]
        
        result = subprocess.run(cmd, capture_output=True, text=True)
        if result.returncode == 0:
            print(f"‚úÖ –≠–º—É–ª—è—Ç–æ—Ä {name} —Å–æ–∑–¥–∞–Ω —É—Å–ø–µ—à–Ω–æ")
            return True
        else:
            print(f"‚ùå –û—à–∏–±–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è —ç–º—É–ª—è—Ç–æ—Ä–∞: {result.stderr}")
            return False
    
    def configure_emulator(self, name, config):
        """–ù–∞—Å—Ç—Ä–æ–π–∫–∞ —ç–º—É–ª—è—Ç–æ—Ä–∞"""
        # –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–æ–∫—Å–∏
        if "proxy" in config:
            self.set_proxy(name, config["proxy"])
        
        # –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
        if "device_info" in config:
            self.set_device_info(name, config["device_info"])
        
        # –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π
        if "apps" in config:
            for app in config["apps"]:
                self.install_app(name, app)
    
    def set_proxy(self, name, proxy_config):
        """–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–æ–∫—Å–∏"""
        cmd = [
            self.ldconsole,
            "modify",
            "--name", name,
            "--proxy-type", proxy_config["type"],
            "--proxy-host", proxy_config["host"],
            "--proxy-port", str(proxy_config["port"])
        ]
        
        if "username" in proxy_config:
            cmd.extend(["--proxy-username", proxy_config["username"]])
            cmd.extend(["--proxy-password", proxy_config["password"]])
        
        subprocess.run(cmd)
    
    def clone_emulator(self, source_name, target_name):
        """–ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —ç–º—É–ª—è—Ç–æ—Ä–∞"""
        cmd = [self.ldconsole, "copy", "--name", source_name, "--from", target_name]
        result = subprocess.run(cmd, capture_output=True, text=True)
        return result.returncode == 0

# –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
manager = LDPlayerManager()

# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —à–∞–±–ª–æ–Ω–∞
template_settings = {
    "cpu_cores": 2,
    "ram": 1024,
    "resolution": "720x1280",
    "dpi": 320
}

# –°–æ–∑–¥–∞–Ω–∏–µ —à–∞–±–ª–æ–Ω–∞
manager.create_emulator("Instagram_Template", template_settings)
```

### –ú–∞—Å—Å–æ–≤–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ —ç–º—É–ª—è—Ç–æ—Ä–æ–≤

```python
import concurrent.futures
import threading
from dataclasses import dataclass
from typing import List, Dict

@dataclass
class EmulatorConfig:
    name: str
    proxy: Dict[str, str]
    device_info: Dict[str, str]
    account_info: Dict[str, str]

class EmulatorFarm:
    def __init__(self, manager: LDPlayerManager):
        self.manager = manager
        self.emulators: List[EmulatorConfig] = []
        self.lock = threading.Lock()
    
    def generate_emulator_configs(self, count: int) -> List[EmulatorConfig]:
        """–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π –¥–ª—è —ç–º—É–ª—è—Ç–æ—Ä–æ–≤"""
        configs = []
        
        for i in range(count):
            config = EmulatorConfig(
                name=f"Instagram_Bot_{i+1:03d}",
                proxy=self.get_proxy_config(i),
                device_info=self.generate_device_info(i),
                account_info=self.get_account_info(i)
            )
            configs.append(config)
        
        return configs
    
    def get_proxy_config(self, index: int) -> Dict[str, str]:
        """–ü–æ–ª—É—á–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –ø—Ä–æ–∫—Å–∏"""
        # –ó–¥–µ—Å—å –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –ª–æ–≥–∏–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è –ø—Ä–æ–∫—Å–∏ –∏–∑ –ø—É–ª–∞
        return {
            "type": "http",
            "host": f"proxy{index % 10}.example.com",
            "port": "8080",
            "username": f"user{index}",
            "password": f"pass{index}"
        }
    
    def generate_device_info(self, index: int) -> Dict[str, str]:
        """–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ–± —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ"""
        devices = [
            {"model": "SM-G973F", "brand": "Samsung", "manufacturer": "samsung"},
            {"model": "Pixel 4", "brand": "Google", "manufacturer": "Google"},
            {"model": "iPhone 12", "brand": "Apple", "manufacturer": "Apple"},
            {"model": "OnePlus 8", "brand": "OnePlus", "manufacturer": "OnePlus"}
        ]
        
        device = devices[index % len(devices)]
        return {
            **device,
            "imei": self.generate_imei(),
            "android_id": self.generate_android_id(),
            "serial": self.generate_serial()
        }
    
    def create_emulators_batch(self, configs: List[EmulatorConfig], batch_size: int = 5):
        """–°–æ–∑–¥–∞–Ω–∏–µ —ç–º—É–ª—è—Ç–æ—Ä–æ–≤ –ø–∞–∫–µ—Ç–∞–º–∏"""
        with concurrent.futures.ThreadPoolExecutor(max_workers=batch_size) as executor:
            futures = []
            
            for config in configs:
                future = executor.submit(self.create_single_emulator, config)
                futures.append(future)
            
            # –û–∂–∏–¥–∞–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –≤—Å–µ—Ö –∑–∞–¥–∞—á
            for future in concurrent.futures.as_completed(futures):
                try:
                    result = future.result()
                    if result:
                        print(f"‚úÖ –≠–º—É–ª—è—Ç–æ—Ä —Å–æ–∑–¥–∞–Ω —É—Å–ø–µ—à–Ω–æ")
                    else:
                        print(f"‚ùå –û—à–∏–±–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è —ç–º—É–ª—è—Ç–æ—Ä–∞")
                except Exception as e:
                    print(f"‚ùå –ò—Å–∫–ª—é—á–µ–Ω–∏–µ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏: {e}")
    
    def create_single_emulator(self, config: EmulatorConfig) -> bool:
        """–°–æ–∑–¥–∞–Ω–∏–µ –æ–¥–Ω–æ–≥–æ —ç–º—É–ª—è—Ç–æ—Ä–∞"""
        try:
            # –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–∑ —à–∞–±–ª–æ–Ω–∞
            success = self.manager.clone_emulator("Instagram_Template", config.name)
            if not success:
                return False
            
            # –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —ç–º—É–ª—è—Ç–æ—Ä–∞
            self.manager.configure_emulator(config.name, {
                "proxy": config.proxy,
                "device_info": config.device_info
            })
            
            with self.lock:
                self.emulators.append(config)
            
            return True
            
        except Exception as e:
            print(f"–û—à–∏–±–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è —ç–º—É–ª—è—Ç–æ—Ä–∞ {config.name}: {e}")
            return False

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
farm = EmulatorFarm(manager)
configs = farm.generate_emulator_configs(100)
farm.create_emulators_batch(configs, batch_size=3)
```

---

## ü§ñ –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –∏ —Å–∫—Ä–∏–ø—Ç—ã

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Appium

#### **–°–∏—Å—Ç–µ–º–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏**
```bash
# Node.js (–¥–ª—è Appium)
curl -fsSL https://deb.nodesource.com/setup_18.x | sudo -E bash -
sudo apt-get install -y nodejs

# Java JDK (–¥–ª—è Android SDK)
sudo apt install openjdk-11-jdk

# Android SDK
wget https://dl.google.com/android/repository/commandlinetools-linux-8512546_latest.zip
unzip commandlinetools-linux-8512546_latest.zip
```

#### **–£—Å—Ç–∞–Ω–æ–≤–∫–∞ Appium**
```bash
# –ì–ª–æ–±–∞–ª—å–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ Appium
npm install -g appium

# –î—Ä–∞–π–≤–µ—Ä –¥–ª—è Android
appium driver install uiautomator2

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏
appium doctor --android
```

#### **Python –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏**
```bash
pip install appium-python-client selenium webdriver-manager
```

### –ë–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ Instagram

```python
from appium import webdriver
from appium.webdriver.common.appiumby import AppiumBy
from selenium.webdriver.support.ui import WebDriverWait
from selenium.webdriver.support import expected_conditions as EC
from selenium.common.exceptions import TimeoutException, NoSuchElementException
import time
import random
import logging
from typing import Optional, List, Dict, Any

class InstagramBot:
    def __init__(self, emulator_name: str, appium_port: int = 4723):
        self.emulator_name = emulator_name
        self.appium_port = appium_port
        self.driver: Optional[webdriver.Remote] = None
        self.wait: Optional[WebDriverWait] = None
        self.logger = self._setup_logger()
        
        # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è –∏–º–∏—Ç–∞—Ü–∏–∏ —á–µ–ª–æ–≤–µ—á–µ—Å–∫–æ–≥–æ –ø–æ–≤–µ–¥–µ–Ω–∏—è
        self.min_delay = 2
        self.max_delay = 5
        self.typing_delay = 0.1
        
    def _setup_logger(self) -> logging.Logger:
        """–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ª–æ–≥–≥–µ—Ä–∞"""
        logger = logging.getLogger(f"InstagramBot_{self.emulator_name}")
        logger.setLevel(logging.INFO)
        
        handler = logging.FileHandler(f"logs/{self.emulator_name}.log")
        formatter = logging.Formatter(
            '%(asctime)s - %(name)s - %(levelname)s - %(message)s'
        )
        handler.setFormatter(formatter)
        logger.addHandler(handler)
        
        return logger
    
    def connect_to_emulator(self) -> bool:
        """–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —ç–º—É–ª—è—Ç–æ—Ä—É"""
        desired_caps = {
            'platformName': 'Android',
            'platformVersion': '7.1',
            'deviceName': self.emulator_name,
            'appPackage': 'com.instagram.android',
            'appActivity': 'com.instagram.mainactivity.MainActivity',
            'automationName': 'UiAutomator2',
            'noReset': True,
            'fullReset': False,
            'newCommandTimeout': 300,
            'androidInstallTimeout': 300000
        }
        
        try:
            self.driver = webdriver.Remote(
                f'http://localhost:{self.appium_port}/wd/hub',
                desired_caps
            )
            self.wait = WebDriverWait(self.driver, 10)
            self.logger.info("‚úÖ –£—Å–ø–µ—à–Ω–æ –ø–æ–¥–∫–ª—é—á–µ–Ω –∫ —ç–º—É–ª—è—Ç–æ—Ä—É")
            return True
            
        except Exception as e:
            self.logger.error(f"‚ùå –û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ —ç–º—É–ª—è—Ç–æ—Ä—É: {e}")
            return False
    
    def human_delay(self, min_delay: Optional[float] = None, max_delay: Optional[float] = None):
        """–°–ª—É—á–∞–π–Ω–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞ –¥–ª—è –∏–º–∏—Ç–∞—Ü–∏–∏ —á–µ–ª–æ–≤–µ—á–µ—Å–∫–æ–≥–æ –ø–æ–≤–µ–¥–µ–Ω–∏—è"""
        min_d = min_delay or self.min_delay
        max_d = max_delay or self.max_delay
        delay = random.uniform(min_d, max_d)
        time.sleep(delay)
    
    def human_type(self, element, text: str):
        """–ü–µ—á–∞—Ç—å —Ç–µ–∫—Å—Ç–∞ —Å —á–µ–ª–æ–≤–µ—á–µ—Å–∫–∏–º–∏ –∑–∞–¥–µ—Ä–∂–∫–∞–º–∏"""
        element.clear()
        for char in text:
            element.send_keys(char)
            time.sleep(random.uniform(0.05, self.typing_delay))
    
    def safe_click(self, locator: tuple, timeout: int = 10) -> bool:
        """–ë–µ–∑–æ–ø–∞—Å–Ω—ã–π –∫–ª–∏–∫ —Å –æ–∂–∏–¥–∞–Ω–∏–µ–º —ç–ª–µ–º–µ–Ω—Ç–∞"""
        try:
            element = WebDriverWait(self.driver, timeout).until(
                EC.element_to_be_clickable(locator)
            )
            self.human_delay(0.5, 1.5)
            element.click()
            return True
        except TimeoutException:
            self.logger.warning(f"–≠–ª–µ–º–µ–Ω—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω: {locator}")
            return False
    
    def safe_send_keys(self, locator: tuple, text: str, timeout: int = 10) -> bool:
        """–ë–µ–∑–æ–ø–∞—Å–Ω—ã–π –≤–≤–æ–¥ —Ç–µ–∫—Å—Ç–∞"""
        try:
            element = WebDriverWait(self.driver, timeout).until(
                EC.presence_of_element_located(locator)
            )
            self.human_type(element, text)
            return True
        except TimeoutException:
            self.logger.warning(f"–ü–æ–ª–µ –≤–≤–æ–¥–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ: {locator}")
            return False
    
    def login(self, username: str, password: str) -> bool:
        """–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –≤ Instagram"""
        try:
            self.logger.info(f"–ù–∞—á–∏–Ω–∞–µ–º –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é –¥–ª—è {username}")
            
            # –û–∂–∏–¥–∞–Ω–∏–µ –∑–∞–≥—Ä—É–∑–∫–∏ —ç–∫—Ä–∞–Ω–∞ –≤—Ö–æ–¥–∞
            self.human_delay(3, 5)
            
            # –í–≤–æ–¥ –ª–æ–≥–∏–Ω–∞
            username_field = (AppiumBy.ID, "com.instagram.android:id/login_username")
            if not self.safe_send_keys(username_field, username):
                return False
            
            # –í–≤–æ–¥ –ø–∞—Ä–æ–ª—è
            password_field = (AppiumBy.ID, "com.instagram.android:id/password")
            if not self.safe_send_keys(password_field, password):
                return False
            
            # –ù–∞–∂–∞—Ç–∏–µ –∫–Ω–æ–ø–∫–∏ –≤—Ö–æ–¥–∞
            login_button = (AppiumBy.ID, "com.instagram.android:id/button_text")
            if not self.safe_click(login_button):
                return False
            
            # –û–∂–∏–¥–∞–Ω–∏–µ –∑–∞–≥—Ä—É–∑–∫–∏ –≥–ª–∞–≤–Ω–æ–≥–æ —ç–∫—Ä–∞–Ω–∞
            self.human_delay(5, 8)
            
            # –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å–ø–µ—à–Ω–æ–π –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
            if self._check_login_success():
                self.logger.info("‚úÖ –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —É—Å–ø–µ—à–Ω–∞")
                return True
            else:
                self.logger.error("‚ùå –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –Ω–µ —É–¥–∞–ª–∞—Å—å")
                return False
                
        except Exception as e:
            self.logger.error(f"–û—à–∏–±–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏: {e}")
            return False
    
    def _check_login_success(self) -> bool:
        """–ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å–ø–µ—à–Ω–æ–π –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏"""
        try:
            # –ò—â–µ–º —ç–ª–µ–º–µ–Ω—Ç—ã –≥–ª–∞–≤–Ω–æ–≥–æ —ç–∫—Ä–∞–Ω–∞
            home_indicators = [
                (AppiumBy.ID, "com.instagram.android:id/tab_home"),
                (AppiumBy.ID, "com.instagram.android:id/action_bar_home"),
                (AppiumBy.XPATH, "//android.widget.TextView[@text='Instagram']")
            ]
            
            for indicator in home_indicators:
                try:
                    WebDriverWait(self.driver, 5).until(
                        EC.presence_of_element_located(indicator)
                    )
                    return True
                except TimeoutException:
                    continue
            
            return False
            
        except Exception:
            return False
    
    def create_post(self, image_path: str, caption: str, hashtags: List[str] = None) -> bool:
        """–°–æ–∑–¥–∞–Ω–∏–µ –ø–æ—Å—Ç–∞"""
        try:
            self.logger.info("–ù–∞—á–∏–Ω–∞–µ–º —Å–æ–∑–¥–∞–Ω–∏–µ –ø–æ—Å—Ç–∞")
            
            # –ù–∞–∂–∞—Ç–∏–µ –∫–Ω–æ–ø–∫–∏ —Å–æ–∑–¥–∞–Ω–∏—è –ø–æ—Å—Ç–∞
            create_button = (AppiumBy.ID, "com.instagram.android:id/tab_create")
            if not self.safe_click(create_button):
                return False
            
            # –í—ã–±–æ—Ä –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
            if not self._select_image(image_path):
                return False
            
            # –ü–µ—Ä–µ—Ö–æ–¥ –∫ —Å–ª–µ–¥—É—é—â–µ–º—É —ç–∫—Ä–∞–Ω—É
            next_button = (AppiumBy.ID, "com.instagram.android:id/next_button_imageview")
            if not self.safe_click(next_button):
                return False
            
            # –ü—Ä–æ–ø—É—Å–∫ —Ñ–∏–ª—å—Ç—Ä–æ–≤
            self.human_delay(2, 3)
            if not self.safe_click(next_button):
                return False
            
            # –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø–æ–¥–ø–∏—Å–∏
            if not self._add_caption(caption, hashtags):
                return False
            
            # –ü—É–±–ª–∏–∫–∞—Ü–∏—è –ø–æ—Å—Ç–∞
            share_button = (AppiumBy.ID, "com.instagram.android:id/button_share")
            if not self.safe_click(share_button):
                return False
            
            # –û–∂–∏–¥–∞–Ω–∏–µ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏
            self.human_delay(5, 8)
            
            self.logger.info("‚úÖ –ü–æ—Å—Ç —É—Å–ø–µ—à–Ω–æ –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω")
            return True
            
        except Exception as e:
            self.logger.error(f"–û—à–∏–±–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è –ø–æ—Å—Ç–∞: {e}")
            return False
    
    def _select_image(self, image_path: str) -> bool:
        """–í—ã–±–æ—Ä –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –¥–ª—è –ø–æ—Å—Ç–∞"""
        try:
            # –õ–æ–≥–∏–∫–∞ –≤—ã–±–æ—Ä–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏–∑ –≥–∞–ª–µ—Ä–µ–∏
            # –≠—Ç–æ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Ç–æ–≥–æ, –∫–∞–∫ –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞–Ω–æ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
            
            # –ü–µ—Ä–µ—Ö–æ–¥ –≤ –≥–∞–ª–µ—Ä–µ—é
            gallery_button = (AppiumBy.ID, "com.instagram.android:id/gallery_folder_menu")
            self.safe_click(gallery_button)
            
            # –í—ã–±–æ—Ä –ø–∞–ø–∫–∏ (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
            # ...
            
            # –í—ã–±–æ—Ä –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
            # –ó–¥–µ—Å—å –Ω—É–∂–Ω–∞ –ª–æ–≥–∏–∫–∞ –ø–æ–∏—Å–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø–æ –∏–º–µ–Ω–∏ –∏–ª–∏ –ø–æ–∑–∏—Ü–∏–∏
            
            return True
            
        except Exception as e:
            self.logger.error(f"–û—à–∏–±–∫–∞ –≤—ã–±–æ—Ä–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è: {e}")
            return False
    
    def _add_caption(self, caption: str, hashtags: List[str] = None) -> bool:
        """–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø–æ–¥–ø–∏—Å–∏ –∫ –ø–æ—Å—Ç—É"""
        try:
            # –ü–æ–ª–µ –¥–ª—è –≤–≤–æ–¥–∞ –ø–æ–¥–ø–∏—Å–∏
            caption_field = (AppiumBy.ID, "com.instagram.android:id/caption_text_view")
            
            # –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–ª–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞
            full_text = caption
            if hashtags:
                full_text += "\n\n" + " ".join(f"#{tag}" for tag in hashtags)
            
            return self.safe_send_keys(caption_field, full_text)
            
        except Exception as e:
            self.logger.error(f"–û—à–∏–±–∫–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –ø–æ–¥–ø–∏—Å–∏: {e}")
            return False
    
    def like_posts_by_hashtag(self, hashtag: str, count: int = 10) -> int:
        """–õ–∞–π–∫ –ø–æ—Å—Ç–æ–≤ –ø–æ —Ö–µ—à—Ç–µ–≥—É"""
        liked_count = 0
        
        try:
            # –ü–æ–∏—Å–∫ –ø–æ —Ö–µ—à—Ç–µ–≥—É
            if not self._search_hashtag(hashtag):
                return 0
            
            # –õ–∞–π–∫ –ø–æ—Å—Ç–æ–≤
            for i in range(count):
                if self._like_current_post():
                    liked_count += 1
                    self.logger.info(f"–õ–∞–π–∫–Ω—É–ª–∏ –ø–æ—Å—Ç {i+1}")
                
                # –ü–µ—Ä–µ—Ö–æ–¥ –∫ —Å–ª–µ–¥—É—é—â–µ–º—É –ø–æ—Å—Ç—É
                self._scroll_to_next_post()
                self.human_delay(3, 7)  # –ó–∞–¥–µ—Ä–∂–∫–∞ –º–µ–∂–¥—É –ª–∞–π–∫–∞–º–∏
            
            return liked_count
            
        except Exception as e:
            self.logger.error(f"–û—à–∏–±–∫–∞ –ª–∞–π–∫–∞ –ø–æ—Å—Ç–æ–≤: {e}")
            return liked_count
    
    def _search_hashtag(self, hashtag: str) -> bool:
        """–ü–æ–∏—Å–∫ –ø–æ —Ö–µ—à—Ç–µ–≥—É"""
        try:
            # –ù–∞–∂–∞—Ç–∏–µ –Ω–∞ –ø–æ–∏—Å–∫
            search_button = (AppiumBy.ID, "com.instagram.android:id/tab_search")
            if not self.safe_click(search_button):
                return False
            
            # –í–≤–æ–¥ —Ö–µ—à—Ç–µ–≥–∞
            search_field = (AppiumBy.ID, "com.instagram.android:id/action_bar_search_edit_text")
            if not self.safe_send_keys(search_field, f"#{hashtag}"):
                return False
            
            # –í—ã–±–æ—Ä —Ö–µ—à—Ç–µ–≥–∞ –∏–∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
            hashtag_result = (AppiumBy.XPATH, f"//android.widget.TextView[@text='#{hashtag}']")
            return self.safe_click(hashtag_result)
            
        except Exception as e:
            self.logger.error(f"–û—à–∏–±–∫–∞ –ø–æ–∏—Å–∫–∞ —Ö–µ—à—Ç–µ–≥–∞: {e}")
            return False
    
    def disconnect(self):
        """–û—Ç–∫–ª—é—á–µ–Ω–∏–µ –æ—Ç —ç–º—É–ª—è—Ç–æ—Ä–∞"""
        if self.driver:
            self.driver.quit()
            self.logger.info("–û—Ç–∫–ª—é—á–∏–ª–∏—Å—å –æ—Ç —ç–º—É–ª—è—Ç–æ—Ä–∞")

# –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
def main():
    bot = InstagramBot("Instagram_Bot_001")
    
    if bot.connect_to_emulator():
        # –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
        if bot.login("your_username", "your_password"):
            # –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ—Å—Ç–∞
            bot.create_post(
                image_path="/path/to/image.jpg",
                caption="–ú–æ–π –Ω–æ–≤—ã–π –ø–æ—Å—Ç!",
                hashtags=["instagram", "–∞–≤—Ç–æ–ø–æ—Å—Ç–∏–Ω–≥", "–±–æ—Ç"]
            )
            
            # –õ–∞–π–∫ –ø–æ—Å—Ç–æ–≤
            bot.like_posts_by_hashtag("–ø—Ä–∏—Ä–æ–¥–∞", count=5)
        
        bot.disconnect()

if __name__ == "__main__":
     main()
 ```

---

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –≤–µ–±-–ø–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### Flask –≤–µ–±-–ø–∞–Ω–µ–ª—å

#### **–û—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ Flask**
```python
from flask import Flask, render_template, request, jsonify, redirect, url_for
from flask_login import LoginManager, login_required, current_user
from flask_socketio import SocketIO, emit
import json
from datetime import datetime, timedelta
from typing import Dict, List
import threading
import time

app = Flask(__name__)
app.config['SECRET_KEY'] = 'your-secret-key-here'
socketio = SocketIO(app, cors_allowed_origins="*")

# –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –º–µ–Ω–µ–¥–∂–µ—Ä–æ–≤
db_manager = DatabaseManager("postgresql://user:password@localhost/instagram_automation")
proxy_manager = ProxyManager()
task_scheduler = TaskScheduler(db_manager)

class WebDashboard:
    def __init__(self):
        self.active_bots: Dict[str, SecureInstagramBot] = {}
        self.bot_status: Dict[str, Dict] = {}
        self.system_stats = {
            'total_accounts': 0,
            'active_accounts': 0,
            'posts_today': 0,
            'likes_today': 0,
            'errors_today': 0
        }
    
    def update_system_stats(self):
        """–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º–Ω–æ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏"""
        today = datetime.utcnow().date()
        
        # –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∞–∫–∫–∞—É–Ω—Ç–æ–≤
        self.system_stats['total_accounts'] = db_manager.session.query(Account).count()
        
        # –ê–∫—Ç–∏–≤–Ω—ã–µ –∞–∫–∫–∞—É–Ω—Ç—ã
        self.system_stats['active_accounts'] = db_manager.session.query(Account).filter(
            Account.status == AccountStatus.ACTIVE
        ).count()
        
        # –ü–æ—Å—Ç—ã –∑–∞ —Å–µ–≥–æ–¥–Ω—è
        self.system_stats['posts_today'] = db_manager.session.query(Post).filter(
            Post.published_time >= today
        ).count()
        
        # –õ–∞–π–∫–∏ –∑–∞ —Å–µ–≥–æ–¥–Ω—è
        self.system_stats['likes_today'] = db_manager.session.query(Activity).filter(
            Activity.activity_type == ActivityType.LIKE,
            Activity.created_at >= today
        ).count()
        
        # –û—à–∏–±–∫–∏ –∑–∞ —Å–µ–≥–æ–¥–Ω—è
        self.system_stats['errors_today'] = db_manager.session.query(Log).filter(
            Log.level == 'ERROR',
            Log.created_at >= today
        ).count()
    
    def get_bot_status(self, emulator_name: str) -> Dict:
        """–ü–æ–ª—É—á–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –±–æ—Ç–∞"""
        if emulator_name in self.bot_status:
            return self.bot_status[emulator_name]
        
        return {
            'status': 'offline',
            'last_activity': None,
            'posts_today': 0,
            'likes_today': 0,
            'errors': 0
        }

dashboard = WebDashboard()

@app.route('/')
@login_required
def index():
    """–ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –¥–∞—à–±–æ—Ä–¥–∞"""
    dashboard.update_system_stats()
    
    # –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –∞–∫–∫–∞—É–Ω—Ç–æ–≤
    accounts = db_manager.session.query(Account).limit(10).all()
    
    # –ü–æ–ª—É—á–µ–Ω–∏–µ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –ª–æ–≥–æ–≤
    recent_logs = db_manager.session.query(Log).order_by(
        Log.created_at.desc()
    ).limit(20).all()
    
    return render_template('dashboard.html', 
                         stats=dashboard.system_stats,
                         accounts=accounts,
                         logs=recent_logs)

@app.route('/accounts')
@login_required
def accounts():
    """–°—Ç—Ä–∞–Ω–∏—Ü–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∞–∫–∫–∞—É–Ω—Ç–∞–º–∏"""
    page = request.args.get('page', 1, type=int)
    per_page = 20
    
    accounts = db_manager.session.query(Account).paginate(
        page=page, per_page=per_page, error_out=False
    )
    
    return render_template('accounts.html', accounts=accounts)

@app.route('/api/accounts', methods=['GET'])
@login_required
def api_get_accounts():
    """API –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å–ø–∏—Å–∫–∞ –∞–∫–∫–∞—É–Ω—Ç–æ–≤"""
    accounts = db_manager.session.query(Account).all()
    
    return jsonify([{
        'id': acc.id,
        'username': acc.username,
        'status': acc.status.value,
        'followers_count': acc.followers_count,
        'posts_count': acc.posts_count,
        'last_activity': acc.last_activity.isoformat() if acc.last_activity else None
    } for acc in accounts])

@app.route('/api/accounts/<int:account_id>/start', methods=['POST'])
@login_required
def api_start_account(account_id):
    """API –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –±–æ—Ç–∞ –¥–ª—è –∞–∫–∫–∞—É–Ω—Ç–∞"""
    account = db_manager.session.query(Account).get(account_id)
    if not account:
        return jsonify({'error': 'Account not found'}), 404
    
    emulator_name = f"Instagram_Bot_{account_id:03d}"
    
    if emulator_name in dashboard.active_bots:
        return jsonify({'error': 'Bot already running'}), 400
    
    try:
        # –°–æ–∑–¥–∞–Ω–∏–µ –∏ –∑–∞–ø—É—Å–∫ –±–æ—Ç–∞
        bot = SecureInstagramBot(emulator_name)
        
        if bot.connect_to_emulator():
            dashboard.active_bots[emulator_name] = bot
            dashboard.bot_status[emulator_name] = {
                'status': 'running',
                'started_at': datetime.utcnow().isoformat(),
                'account_id': account_id
            }
            
            # –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –∞–∫–∫–∞—É–Ω—Ç–∞
            account.status = AccountStatus.ACTIVE
            db_manager.session.commit()
            
            # –û—Ç–ø—Ä–∞–≤–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —á–µ—Ä–µ–∑ WebSocket
            socketio.emit('bot_status_update', {
                'emulator_name': emulator_name,
                'status': 'running',
                'account_id': account_id
            })
            
            return jsonify({'success': True, 'message': 'Bot started successfully'})
        else:
            return jsonify({'error': 'Failed to connect to emulator'}), 500
            
    except Exception as e:
        return jsonify({'error': str(e)}), 500

@app.route('/api/accounts/<int:account_id>/stop', methods=['POST'])
@login_required
def api_stop_account(account_id):
    """API –¥–ª—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –±–æ—Ç–∞"""
    emulator_name = f"Instagram_Bot_{account_id:03d}"
    
    if emulator_name not in dashboard.active_bots:
        return jsonify({'error': 'Bot not running'}), 400
    
    try:
        bot = dashboard.active_bots[emulator_name]
        bot.disconnect()
        
        del dashboard.active_bots[emulator_name]
        dashboard.bot_status[emulator_name]['status'] = 'stopped'
        
        # –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –∞–∫–∫–∞—É–Ω—Ç–∞
        account = db_manager.session.query(Account).get(account_id)
        account.status = AccountStatus.INACTIVE
        db_manager.session.commit()
        
        # –û—Ç–ø—Ä–∞–≤–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —á–µ—Ä–µ–∑ WebSocket
        socketio.emit('bot_status_update', {
            'emulator_name': emulator_name,
            'status': 'stopped',
            'account_id': account_id
        })
        
        return jsonify({'success': True, 'message': 'Bot stopped successfully'})
        
    except Exception as e:
        return jsonify({'error': str(e)}), 500

@app.route('/api/stats')
@login_required
def api_get_stats():
    """API –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏"""
    dashboard.update_system_stats()
    return jsonify(dashboard.system_stats)

@app.route('/content')
@login_required
def content():
    """–°—Ç—Ä–∞–Ω–∏—Ü–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–æ–Ω—Ç–µ–Ω—Ç–æ–º"""
    content_items = db_manager.session.query(Content).order_by(
        Content.created_at.desc()
    ).limit(50).all()
    
    return render_template('content.html', content_items=content_items)

@app.route('/api/content/upload', methods=['POST'])
@login_required
def api_upload_content():
    """API –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –∫–æ–Ω—Ç–µ–Ω—Ç–∞"""
    if 'file' not in request.files:
        return jsonify({'error': 'No file provided'}), 400
    
    file = request.files['file']
    title = request.form.get('title', '')
    description = request.form.get('description', '')
    hashtags = request.form.get('hashtags', '').split(',')
    
    if file.filename == '':
        return jsonify({'error': 'No file selected'}), 400
    
    try:
        # –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ñ–∞–π–ª–∞
        filename = secure_filename(file.filename)
        file_path = os.path.join('content/images', filename)
        file.save(file_path)
        
        # –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–ø–∏—Å–∏ –≤ –ë–î
        content = db_manager.create_content(
            title=title,
            image_path=file_path,
            description=description,
            hashtags=[tag.strip() for tag in hashtags if tag.strip()]
        )
        
        return jsonify({
            'success': True,
            'content_id': content.id,
            'message': 'Content uploaded successfully'
        })
        
    except Exception as e:
        return jsonify({'error': str(e)}), 500

@app.route('/scheduler')
@login_required
def scheduler():
    """–°—Ç—Ä–∞–Ω–∏—Ü–∞ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞"""
    scheduled_posts = db_manager.session.query(Post).filter(
        Post.status == PostStatus.SCHEDULED
    ).order_by(Post.scheduled_time).all()
    
    return render_template('scheduler.html', scheduled_posts=scheduled_posts)

@app.route('/api/schedule_post', methods=['POST'])
@login_required
def api_schedule_post():
    """API –¥–ª—è –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –ø–æ—Å—Ç–∞"""
    data = request.get_json()
    
    try:
        account_id = data['account_id']
        content_id = data['content_id']
        scheduled_time = datetime.fromisoformat(data['scheduled_time'])
        caption = data.get('caption', '')
        
        post = db_manager.schedule_post(
            account_id=account_id,
            content_id=content_id,
            scheduled_time=scheduled_time,
            caption=caption
        )
        
        return jsonify({
            'success': True,
            'post_id': post.id,
            'message': 'Post scheduled successfully'
        })
        
    except Exception as e:
        return jsonify({'error': str(e)}), 500

@socketio.on('connect')
def handle_connect():
    """–û–±—Ä–∞–±–æ—Ç–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è WebSocket"""
    emit('connected', {'message': 'Connected to dashboard'})

@socketio.on('request_stats')
def handle_stats_request():
    """–û–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–ø—Ä–æ—Å–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏"""
    dashboard.update_system_stats()
    emit('stats_update', dashboard.system_stats)

# –§–æ–Ω–æ–≤–∞—è –∑–∞–¥–∞—á–∞ –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
def background_stats_update():
    """–§–æ–Ω–æ–≤–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏"""
    while True:
        dashboard.update_system_stats()
        socketio.emit('stats_update', dashboard.system_stats)
        time.sleep(30)  # –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–∞–∂–¥—ã–µ 30 —Å–µ–∫—É–Ω–¥

# –ó–∞–ø—É—Å–∫ —Ñ–æ–Ω–æ–≤–æ–≥–æ –ø–æ—Ç–æ–∫–∞
stats_thread = threading.Thread(target=background_stats_update, daemon=True)
stats_thread.start()

if __name__ == '__main__':
    socketio.run(app, debug=True, host='0.0.0.0', port=5000)
```

#### **HTML —à–∞–±–ª–æ–Ω—ã**

**templates/base.html**
```html
<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}Instagram Automation Dashboard{% endblock %}</title>
    
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font Awesome -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- Socket.IO -->
    <script src="https://cdn.socket.io/4.5.0/socket.io.min.js"></script>
    
    <style>
        .sidebar {
            min-height: 100vh;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        .sidebar .nav-link {
            color: rgba(255,255,255,0.8);
            transition: all 0.3s;
        }
        .sidebar .nav-link:hover {
            color: white;
            background-color: rgba(255,255,255,0.1);
        }
        .sidebar .nav-link.active {
            color: white;
            background-color: rgba(255,255,255,0.2);
        }
        .stat-card {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            color: white;
            border-radius: 15px;
            transition: transform 0.3s;
        }
        .stat-card:hover {
            transform: translateY(-5px);
        }
        .bot-status-online {
            color: #28a745;
        }
        .bot-status-offline {
            color: #dc3545;
        }
        .bot-status-error {
            color: #ffc107;
        }
    </style>
</head>
<body>
    <div class="container-fluid">
        <div class="row">
            <!-- Sidebar -->
            <nav class="col-md-3 col-lg-2 d-md-block sidebar collapse">
                <div class="position-sticky pt-3">
                    <div class="text-center mb-4">
                        <h4 class="text-white">
                            <i class="fab fa-instagram"></i>
                            AutoPost
                        </h4>
                    </div>
                    
                    <ul class="nav flex-column">
                        <li class="nav-item">
                            <a class="nav-link" href="{{ url_for('index') }}">
                                <i class="fas fa-tachometer-alt"></i>
                                –î–∞—à–±–æ—Ä–¥
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="{{ url_for('accounts') }}">
                                <i class="fas fa-users"></i>
                                –ê–∫–∫–∞—É–Ω—Ç—ã
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="{{ url_for('content') }}">
                                <i class="fas fa-images"></i>
                                –ö–æ–Ω—Ç–µ–Ω—Ç
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="{{ url_for('scheduler') }}">
                                <i class="fas fa-calendar-alt"></i>
                                –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#" onclick="showProxyManager()">
                                <i class="fas fa-shield-alt"></i>
                                –ü—Ä–æ–∫—Å–∏
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#" onclick="showLogs()">
                                <i class="fas fa-list-alt"></i>
                                –õ–æ–≥–∏
                            </a>
                        </li>
                    </ul>
                </div>
            </nav>

            <!-- Main content -->
            <main class="col-md-9 ms-sm-auto col-lg-10 px-md-4">
                <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
                    <h1 class="h2">{% block page_title %}–î–∞—à–±–æ—Ä–¥{% endblock %}</h1>
                    <div class="btn-toolbar mb-2 mb-md-0">
                        <div class="btn-group me-2">
                            <button type="button" class="btn btn-sm btn-outline-secondary" onclick="refreshData()">
                                <i class="fas fa-sync-alt"></i>
                                –û–±–Ω–æ–≤–∏—Ç—å
                            </button>
                        </div>
                    </div>
                </div>

                {% block content %}{% endblock %}
            </main>
        </div>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    
    <script>
        // WebSocket –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ
        const socket = io();
        
        socket.on('connect', function() {
            console.log('Connected to server');
        });
        
        socket.on('stats_update', function(stats) {
            updateStatsDisplay(stats);
        });
        
        socket.on('bot_status_update', function(data) {
            updateBotStatus(data);
        });
        
        function updateStatsDisplay(stats) {
            document.getElementById('total-accounts').textContent = stats.total_accounts;
            document.getElementById('active-accounts').textContent = stats.active_accounts;
            document.getElementById('posts-today').textContent = stats.posts_today;
            document.getElementById('likes-today').textContent = stats.likes_today;
            document.getElementById('errors-today').textContent = stats.errors_today;
        }
        
        function updateBotStatus(data) {
            const statusElement = document.getElementById(`bot-status-${data.account_id}`);
            if (statusElement) {
                statusElement.className = `bot-status-${data.status}`;
                statusElement.innerHTML = `<i class="fas fa-circle"></i> ${data.status}`;
            }
        }
        
        function refreshData() {
            socket.emit('request_stats');
            location.reload();
        }
        
        function startBot(accountId) {
            fetch(`/api/accounts/${accountId}/start`, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                }
            })
            .then(response => response.json())
            .then(data => {
                if (data.success) {
                    showAlert('success', data.message);
                } else {
                    showAlert('danger', data.error);
                }
            })
            .catch(error => {
                showAlert('danger', '–û—à–∏–±–∫–∞: ' + error.message);
            });
        }
        
        function stopBot(accountId) {
            fetch(`/api/accounts/${accountId}/stop`, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                }
            })
            .then(response => response.json())
            .then(data => {
                if (data.success) {
                    showAlert('success', data.message);
                } else {
                    showAlert('danger', data.error);
                }
            })
            .catch(error => {
                showAlert('danger', '–û—à–∏–±–∫–∞: ' + error.message);
            });
        }
        
        function showAlert(type, message) {
            const alertDiv = document.createElement('div');
            alertDiv.className = `alert alert-${type} alert-dismissible fade show`;
            alertDiv.innerHTML = `
                ${message}
                <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
            `;
            
            const container = document.querySelector('main');
            container.insertBefore(alertDiv, container.firstChild);
            
            setTimeout(() => {
                alertDiv.remove();
            }, 5000);
        }
    </script>
    
    {% block scripts %}{% endblock %}
</body>
</html>
```

**templates/dashboard.html**
```html
{% extends "base.html" %}

{% block content %}
<!-- –°—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–∏–µ –∫–∞—Ä—Ç–æ—á–∫–∏ -->
<div class="row mb-4">
    <div class="col-xl-3 col-md-6 mb-4">
        <div class="card stat-card">
            <div class="card-body">
                <div class="row no-gutters align-items-center">
                    <div class="col mr-2">
                        <div class="text-xs font-weight-bold text-uppercase mb-1">
                            –í—Å–µ–≥–æ –∞–∫–∫–∞—É–Ω—Ç–æ–≤
                        </div>
                        <div class="h5 mb-0 font-weight-bold" id="total-accounts">
                            {{ stats.total_accounts }}
                        </div>
                    </div>
                    <div class="col-auto">
                        <i class="fas fa-users fa-2x"></i>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="col-xl-3 col-md-6 mb-4">
        <div class="card stat-card">
            <div class="card-body">
                <div class="row no-gutters align-items-center">
                    <div class="col mr-2">
                        <div class="text-xs font-weight-bold text-uppercase mb-1">
                            –ê–∫—Ç–∏–≤–Ω—ã—Ö –∞–∫–∫–∞—É–Ω—Ç–æ–≤
                        </div>
                        <div class="h5 mb-0 font-weight-bold" id="active-accounts">
                            {{ stats.active_accounts }}
                        </div>
                    </div>
                    <div class="col-auto">
                        <i class="fas fa-user-check fa-2x"></i>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="col-xl-3 col-md-6 mb-4">
        <div class="card stat-card">
            <div class="card-body">
                <div class="row no-gutters align-items-center">
                    <div class="col mr-2">
                        <div class="text-xs font-weight-bold text-uppercase mb-1">
                            –ü–æ—Å—Ç–æ–≤ —Å–µ–≥–æ–¥–Ω—è
                        </div>
                        <div class="h5 mb-0 font-weight-bold" id="posts-today">
                            {{ stats.posts_today }}
                        </div>
                    </div>
                    <div class="col-auto">
                        <i class="fas fa-image fa-2x"></i>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="col-xl-3 col-md-6 mb-4">
        <div class="card stat-card">
            <div class="card-body">
                <div class="row no-gutters align-items-center">
                    <div class="col mr-2">
                        <div class="text-xs font-weight-bold text-uppercase mb-1">
                            –õ–∞–π–∫–æ–≤ —Å–µ–≥–æ–¥–Ω—è
                        </div>
                        <div class="h5 mb-0 font-weight-bold" id="likes-today">
                            {{ stats.likes_today }}
                        </div>
                    </div>
                    <div class="col-auto">
                        <i class="fas fa-heart fa-2x"></i>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- –ì—Ä–∞—Ñ–∏–∫–∏ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ -->
<div class="row mb-4">
    <div class="col-lg-8">
        <div class="card">
            <div class="card-header">
                <h6 class="m-0 font-weight-bold">–ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –∑–∞ –Ω–µ–¥–µ–ª—é</h6>
            </div>
            <div class="card-body">
                <canvas id="activityChart"></canvas>
            </div>
        </div>
    </div>
    
    <div class="col-lg-4">
        <div class="card">
            <div class="card-header">
                <h6 class="m-0 font-weight-bold">–°—Ç–∞—Ç—É—Å –∞–∫–∫–∞—É–Ω—Ç–æ–≤</h6>
            </div>
            <div class="card-body">
                <canvas id="statusChart"></canvas>
            </div>
        </div>
    </div>
</div>

<!-- –¢–∞–±–ª–∏—Ü–∞ –∞–∫–∫–∞—É–Ω—Ç–æ–≤ -->
<div class="row">
    <div class="col-lg-8">
        <div class="card">
            <div class="card-header">
                <h6 class="m-0 font-weight-bold">–ü–æ—Å–ª–µ–¥–Ω–∏–µ –∞–∫–∫–∞—É–Ω—Ç—ã</h6>
            </div>
            <div class="card-body">
                <div class="table-responsive">
                    <table class="table table-bordered">
                        <thead>
                            <tr>
                                <th>–ê–∫–∫–∞—É–Ω—Ç</th>
                                <th>–°—Ç–∞—Ç—É—Å</th>
                                <th>–ü–æ–¥–ø–∏—Å—á–∏–∫–∏</th>
                                <th>–ü–æ—Å—Ç—ã</th>
                                <th>–î–µ–π—Å—Ç–≤–∏—è</th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for account in accounts %}
                            <tr>
                                <td>
                                    <strong>{{ account.username }}</strong><br>
                                    <small class="text-muted">{{ account.full_name }}</small>
                                </td>
                                <td>
                                    <span id="bot-status-{{ account.id }}" class="bot-status-{{ account.status.value }}">
                                        <i class="fas fa-circle"></i>
                                        {{ account.status.value }}
                                    </span>
                                </td>
                                <td>{{ account.followers_count or 0 }}</td>
                                <td>{{ account.posts_count or 0 }}</td>
                                <td>
                                    <button class="btn btn-sm btn-success" onclick="startBot({{ account.id }})">
                                        <i class="fas fa-play"></i>
                                    </button>
                                    <button class="btn btn-sm btn-danger" onclick="stopBot({{ account.id }})">
                                        <i class="fas fa-stop"></i>
                                    </button>
                                </td>
                            </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
    
    <div class="col-lg-4">
        <div class="card">
            <div class="card-header">
                <h6 class="m-0 font-weight-bold">–ü–æ—Å–ª–µ–¥–Ω–∏–µ –ª–æ–≥–∏</h6>
            </div>
            <div class="card-body" style="max-height: 400px; overflow-y: auto;">
                {% for log in logs %}
                <div class="mb-2 p-2 border-left border-{{ 'danger' if log.level == 'ERROR' else 'info' if log.level == 'INFO' else 'warning' }}">
                    <small class="text-muted">{{ log.created_at.strftime('%H:%M:%S') }}</small><br>
                    <strong>{{ log.level }}</strong>: {{ log.message }}
                </div>
                {% endfor %}
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script>
    // –ì—Ä–∞—Ñ–∏–∫ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
    const activityCtx = document.getElementById('activityChart').getContext('2d');
    const activityChart = new Chart(activityCtx, {
        type: 'line',
        data: {
            labels: ['–ü–Ω', '–í—Ç', '–°—Ä', '–ß—Ç', '–ü—Ç', '–°–±', '–í—Å'],
            datasets: [{
                label: '–ü–æ—Å—Ç—ã',
                data: [12, 19, 3, 5, 2, 3, 7],
                borderColor: 'rgb(75, 192, 192)',
                tension: 0.1
            }, {
                label: '–õ–∞–π–∫–∏',
                data: [65, 59, 80, 81, 56, 55, 40],
                borderColor: 'rgb(255, 99, 132)',
                tension: 0.1
            }]
        },
        options: {
            responsive: true,
            scales: {
                y: {
                    beginAtZero: true
                }
            }
        }
    });

    // –ì—Ä–∞—Ñ–∏–∫ —Å—Ç–∞—Ç—É—Å–æ–≤
    const statusCtx = document.getElementById('statusChart').getContext('2d');
    const statusChart = new Chart(statusCtx, {
        type: 'doughnut',
        data: {
            labels: ['–ê–∫—Ç–∏–≤–Ω—ã–µ', '–ù–µ–∞–∫—Ç–∏–≤–Ω—ã–µ', '–ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ'],
            datasets: [{
                data: [{{ stats.active_accounts }}, 
                       {{ stats.total_accounts - stats.active_accounts }}, 
                       0],
                backgroundColor: [
                    'rgb(75, 192, 192)',
                    'rgb(255, 205, 86)',
                    'rgb(255, 99, 132)'
                ]
            }]
        },
        options: {
            responsive: true
        }
    });
</script>
 {% endblock %}
 ```

---

## üöÄ –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –∏ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ

### Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è

#### **Dockerfile –¥–ª—è –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è**
```dockerfile
FROM python:3.9-slim

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
RUN apt-get update && apt-get install -y \
    wget \
    unzip \
    curl \
    gnupg \
    && rm -rf /var/lib/apt/lists/*

# –°–æ–∑–¥–∞–Ω–∏–µ —Ä–∞–±–æ—á–µ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
WORKDIR /app

# –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
COPY requirements.txt .

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Python –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
RUN pip install --no-cache-dir -r requirements.txt

# –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –∏—Å—Ö–æ–¥–Ω–æ–≥–æ –∫–æ–¥–∞
COPY . .

# –°–æ–∑–¥–∞–Ω–∏–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π
RUN mkdir -p logs content/images templates static

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
ENV FLASK_APP=app.py
ENV FLASK_ENV=production
ENV PYTHONPATH=/app

# –û—Ç–∫—Ä—ã—Ç–∏–µ –ø–æ—Ä—Ç–∞
EXPOSE 5000

# –ö–æ–º–∞–Ω–¥–∞ –∑–∞–ø—É—Å–∫–∞
CMD ["python", "app.py"]
```

#### **docker-compose.yml**
```yaml
version: '3.8'

services:
  # –û—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
  instagram-automation:
    build: .
    ports:
      - "5000:5000"
    environment:
      - DATABASE_URL=postgresql://postgres:password@db:5432/instagram_automation
      - REDIS_URL=redis://redis:6379/0
      - SECRET_KEY=your-super-secret-key-here
    depends_on:
      - db
      - redis
    volumes:
      - ./content:/app/content
      - ./logs:/app/logs
    networks:
      - instagram-network

  # –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö PostgreSQL
  db:
    image: postgres:13
    environment:
      - POSTGRES_DB=instagram_automation
      - POSTGRES_USER=postgres
      - POSTGRES_PASSWORD=password
    volumes:
      - postgres_data:/var/lib/postgresql/data
      - ./init.sql:/docker-entrypoint-initdb.d/init.sql
    networks:
      - instagram-network

  # Redis –¥–ª—è –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –æ—á–µ—Ä–µ–¥–µ–π
  redis:
    image: redis:6-alpine
    networks:
      - instagram-network

  # Nginx –¥–ª—è –±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∏ –Ω–∞–≥—Ä—É–∑–∫–∏
  nginx:
    image: nginx:alpine
    ports:
      - "80:80"
      - "443:443"
    volumes:
      - ./nginx.conf:/etc/nginx/nginx.conf
      - ./ssl:/etc/nginx/ssl
    depends_on:
      - instagram-automation
    networks:
      - instagram-network

  # –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å Prometheus
  prometheus:
    image: prom/prometheus
    ports:
      - "9090:9090"
    volumes:
      - ./prometheus.yml:/etc/prometheus/prometheus.yml
    networks:
      - instagram-network

  # Grafana –¥–ª—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏
  grafana:
    image: grafana/grafana
    ports:
      - "3000:3000"
    environment:
      - GF_SECURITY_ADMIN_PASSWORD=admin
    volumes:
      - grafana_data:/var/lib/grafana
    networks:
      - instagram-network

volumes:
  postgres_data:
  grafana_data:

networks:
  instagram-network:
    driver: bridge
```

### Kubernetes —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ

#### **kubernetes/namespace.yaml**
```yaml
apiVersion: v1
kind: Namespace
metadata:
  name: instagram-automation
```

#### **kubernetes/deployment.yaml**
```yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: instagram-automation
  namespace: instagram-automation
spec:
  replicas: 3
  selector:
    matchLabels:
      app: instagram-automation
  template:
    metadata:
      labels:
        app: instagram-automation
    spec:
      containers:
      - name: instagram-automation
        image: instagram-automation:latest
        ports:
        - containerPort: 5000
        env:
        - name: DATABASE_URL
          valueFrom:
            secretKeyRef:
              name: instagram-secrets
              key: database-url
        - name: SECRET_KEY
          valueFrom:
            secretKeyRef:
              name: instagram-secrets
              key: secret-key
        resources:
          requests:
            memory: "512Mi"
            cpu: "250m"
          limits:
            memory: "1Gi"
            cpu: "500m"
        volumeMounts:
        - name: content-storage
          mountPath: /app/content
        - name: logs-storage
          mountPath: /app/logs
      volumes:
      - name: content-storage
        persistentVolumeClaim:
          claimName: content-pvc
      - name: logs-storage
        persistentVolumeClaim:
          claimName: logs-pvc
```

#### **kubernetes/service.yaml**
```yaml
apiVersion: v1
kind: Service
metadata:
  name: instagram-automation-service
  namespace: instagram-automation
spec:
  selector:
    app: instagram-automation
  ports:
  - protocol: TCP
    port: 80
    targetPort: 5000
  type: LoadBalancer
```

### –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è

#### **deploy.sh**
```bash
#!/bin/bash

# –°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è Instagram Automation System

set -e

echo "üöÄ –ù–∞—á–∏–Ω–∞–µ–º —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ Instagram Automation System..."

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
check_dependencies() {
    echo "üìã –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π..."
    
    if ! command -v docker &> /dev/null; then
        echo "‚ùå Docker –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω"
        exit 1
    fi
    
    if ! command -v docker-compose &> /dev/null; then
        echo "‚ùå Docker Compose –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω"
        exit 1
    fi
    
    echo "‚úÖ –í—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã"
}

# –°–æ–∑–¥–∞–Ω–∏–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π
create_directories() {
    echo "üìÅ –°–æ–∑–¥–∞–Ω–∏–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π..."
    
    mkdir -p {content/images,logs,ssl,backups}
    chmod 755 content/images logs
    
    echo "‚úÖ –î–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ —Å–æ–∑–¥–∞–Ω—ã"
}

# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤
generate_ssl() {
    echo "üîê –ì–µ–Ω–µ—Ä–∞—Ü–∏—è SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤..."
    
    if [ ! -f ssl/server.crt ]; then
        openssl req -x509 -nodes -days 365 -newkey rsa:2048 \
            -keyout ssl/server.key \
            -out ssl/server.crt \
            -subj "/C=US/ST=State/L=City/O=Organization/CN=localhost"
        
        echo "‚úÖ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã —Å–æ–∑–¥–∞–Ω—ã"
    else
        echo "‚úÖ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç"
    fi
}

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
setup_environment() {
    echo "‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è..."
    
    if [ ! -f .env ]; then
        cat > .env << EOF
# Database
DATABASE_URL=postgresql://postgres:password@db:5432/instagram_automation
POSTGRES_DB=instagram_automation
POSTGRES_USER=postgres
POSTGRES_PASSWORD=$(openssl rand -base64 32)

# Redis
REDIS_URL=redis://redis:6379/0

# Application
SECRET_KEY=$(openssl rand -base64 32)
FLASK_ENV=production

# Security
JWT_SECRET_KEY=$(openssl rand -base64 32)

# Monitoring
PROMETHEUS_ENABLED=true
GRAFANA_ADMIN_PASSWORD=$(openssl rand -base64 16)
EOF
        echo "‚úÖ –§–∞–π–ª .env —Å–æ–∑–¥–∞–Ω"
    else
        echo "‚úÖ –§–∞–π–ª .env —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç"
    fi
}

# –°–±–æ—Ä–∫–∞ Docker –æ–±—Ä–∞–∑–æ–≤
build_images() {
    echo "üî® –°–±–æ—Ä–∫–∞ Docker –æ–±—Ä–∞–∑–æ–≤..."
    
    docker-compose build --no-cache
    
    echo "‚úÖ Docker –æ–±—Ä–∞–∑—ã —Å–æ–±—Ä–∞–Ω—ã"
}

# –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–æ–≤
start_services() {
    echo "üöÄ –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–æ–≤..."
    
    docker-compose up -d
    
    echo "‚è≥ –û–∂–∏–¥–∞–Ω–∏–µ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ —Å–µ—Ä–≤–∏—Å–æ–≤..."
    sleep 30
    
    # –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ —Å–µ—Ä–≤–∏—Å–æ–≤
    if docker-compose ps | grep -q "Up"; then
        echo "‚úÖ –°–µ—Ä–≤–∏—Å—ã –∑–∞–ø—É—â–µ–Ω—ã —É—Å–ø–µ—à–Ω–æ"
    else
        echo "‚ùå –û—à–∏–±–∫–∞ –∑–∞–ø—É—Å–∫–∞ —Å–µ—Ä–≤–∏—Å–æ–≤"
        docker-compose logs
        exit 1
    fi
}

# –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
init_database() {
    echo "üóÑÔ∏è –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö..."
    
    docker-compose exec instagram-automation python -c "
from database import DatabaseManager
db = DatabaseManager()
db.create_tables()
print('–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–∞')
"
    
    echo "‚úÖ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –≥–æ—Ç–æ–≤–∞"
}

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏
health_check() {
    echo "üè• –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏..."
    
    # –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
    if curl -f http://localhost:5000/health > /dev/null 2>&1; then
        echo "‚úÖ –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–æ—Å—Ç—É–ø–µ–Ω"
    else
        echo "‚ùå –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω"
    fi
    
    # –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
    if docker-compose exec db pg_isready -U postgres > /dev/null 2>&1; then
        echo "‚úÖ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –¥–æ—Å—Ç—É–ø–Ω–∞"
    else
        echo "‚ùå –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞"
    fi
    
    # –ü—Ä–æ–≤–µ—Ä–∫–∞ Redis
    if docker-compose exec redis redis-cli ping | grep -q PONG; then
        echo "‚úÖ Redis –¥–æ—Å—Ç—É–ø–µ–Ω"
    else
        echo "‚ùå Redis –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω"
    fi
}

# –°–æ–∑–¥–∞–Ω–∏–µ —Ä–µ–∑–µ—Ä–≤–Ω–æ–π –∫–æ–ø–∏–∏
create_backup() {
    echo "üíæ –°–æ–∑–¥–∞–Ω–∏–µ —Ä–µ–∑–µ—Ä–≤–Ω–æ–π –∫–æ–ø–∏–∏..."
    
    BACKUP_DATE=$(date +%Y%m%d_%H%M%S)
    BACKUP_DIR="backups/backup_$BACKUP_DATE"
    
    mkdir -p "$BACKUP_DIR"
    
    # –†–µ–∑–µ—Ä–≤–Ω–∞—è –∫–æ–ø–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
    docker-compose exec db pg_dump -U postgres instagram_automation > "$BACKUP_DIR/database.sql"
    
    # –†–µ–∑–µ—Ä–≤–Ω–∞—è –∫–æ–ø–∏—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞
    cp -r content "$BACKUP_DIR/"
    
    # –†–µ–∑–µ—Ä–≤–Ω–∞—è –∫–æ–ø–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
    cp docker-compose.yml .env "$BACKUP_DIR/"
    
    echo "‚úÖ –†–µ–∑–µ—Ä–≤–Ω–∞—è –∫–æ–ø–∏—è —Å–æ–∑–¥–∞–Ω–∞: $BACKUP_DIR"
}

# –ü–æ–∫–∞–∑ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–∏
show_info() {
    echo ""
    echo "üéâ –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–æ —É—Å–ø–µ—à–Ω–æ!"
    echo ""
    echo "üìä –î–æ—Å—Ç—É–ø–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã:"
    echo "   ‚Ä¢ –í–µ–±-–ø–∞–Ω–µ–ª—å:     http://localhost:5000"
    echo "   ‚Ä¢ Grafana:        http://localhost:3000 (admin/admin)"
    echo "   ‚Ä¢ Prometheus:     http://localhost:9090"
    echo ""
    echo "üîß –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:"
    echo "   ‚Ä¢ –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤: docker-compose logs -f"
    echo "   ‚Ä¢ –û—Å—Ç–∞–Ω–æ–≤–∫–∞:      docker-compose down"
    echo "   ‚Ä¢ –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫:     docker-compose restart"
    echo ""
    echo "üìÅ –í–∞–∂–Ω—ã–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏:"
    echo "   ‚Ä¢ –ö–æ–Ω—Ç–µ–Ω—Ç:        ./content/"
    echo "   ‚Ä¢ –õ–æ–≥–∏:           ./logs/"
    echo "   ‚Ä¢ –†–µ–∑–µ—Ä–≤–Ω—ã–µ –∫–æ–ø–∏–∏: ./backups/"
    echo ""
}

# –û—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è
main() {
    check_dependencies
    create_directories
    generate_ssl
    setup_environment
    build_images
    start_services
    init_database
    health_check
    create_backup
    show_info
}

# –û–±—Ä–∞–±–æ—Ç–∫–∞ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏
case "${1:-deploy}" in
    "deploy")
        main
        ;;
    "backup")
        create_backup
        ;;
    "health")
        health_check
        ;;
    "stop")
        echo "üõë –û—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–µ—Ä–≤–∏—Å–æ–≤..."
        docker-compose down
        echo "‚úÖ –°–µ—Ä–≤–∏—Å—ã –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã"
        ;;
    "restart")
        echo "üîÑ –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–æ–≤..."
        docker-compose restart
        echo "‚úÖ –°–µ—Ä–≤–∏—Å—ã –ø–µ—Ä–µ–∑–∞–ø—É—â–µ–Ω—ã"
        ;;
    *)
        echo "–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ: $0 {deploy|backup|health|stop|restart}"
        exit 1
        ;;
esac
```

---

## ‚ö° –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —ç–º—É–ª—è—Ç–æ—Ä–æ–≤

#### **–°–∫—Ä–∏–ø—Ç –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ LDPlayer**
```python
import subprocess
import json
import time
from typing import List, Dict

class EmulatorOptimizer:
    def __init__(self):
        self.ldconsole_path = r"C:\LDPlayer\LDPlayer4.0\ldconsole.exe"
        
    def optimize_emulator_settings(self, emulator_name: str) -> bool:
        """–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–∫ —ç–º—É–ª—è—Ç–æ—Ä–∞"""
        try:
            # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
            settings = {
                'cpu': 2,           # 2 —è–¥—Ä–∞ CPU
                'memory': 2048,     # 2GB RAM
                'resolution': '720x1280',  # HD —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ
                'dpi': 240,         # –ü–ª–æ—Ç–Ω–æ—Å—Ç—å –ø–∏–∫—Å–µ–ª–µ–π
                'fps': 30,          # 30 FPS
                'audio': False,     # –û—Ç–∫–ª—é—á–∏—Ç—å –∑–≤—É–∫
                'cleanmode': True,  # –†–µ–∂–∏–º –æ—á–∏—Å—Ç–∫–∏
                'vt': True,         # –í–∏—Ä—Ç—É–∞–ª–∏–∑–∞—Ü–∏—è
                'imei': self.generate_imei(),
                'imsi': self.generate_imsi(),
                'simserial': self.generate_sim_serial(),
                'androidid': self.generate_android_id(),
                'mac': self.generate_mac(),
                'manufacturer': 'samsung',
                'model': 'SM-G973F',
                'pnumber': '+1234567890'
            }
            
            for key, value in settings.items():
                cmd = [
                    self.ldconsole_path, 'modify',
                    '--name', emulator_name,
                    f'--{key}', str(value)
                ]
                
                result = subprocess.run(cmd, capture_output=True, text=True)
                if result.returncode != 0:
                    print(f"–û—à–∏–±–∫–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ {key}: {result.stderr}")
                    return False
                    
                time.sleep(0.5)  # –ü–∞—É–∑–∞ –º–µ–∂–¥—É –∫–æ–º–∞–Ω–¥–∞–º–∏
            
            return True
            
        except Exception as e:
            print(f"–û—à–∏–±–∫–∞ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ —ç–º—É–ª—è—Ç–æ—Ä–∞ {emulator_name}: {e}")
            return False
    
    def optimize_system_performance(self) -> Dict[str, bool]:
        """–°–∏—Å—Ç–µ–º–Ω–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è"""
        results = {}
        
        try:
            # –û—Ç–∫–ª—é—á–µ–Ω–∏–µ Windows Defender –¥–ª—è –ø–∞–ø–∫–∏ —ç–º—É–ª—è—Ç–æ—Ä–∞
            defender_cmd = [
                'powershell', '-Command',
                'Add-MpPreference -ExclusionPath "C:\\LDPlayer"'
            ]
            result = subprocess.run(defender_cmd, capture_output=True)
            results['defender_exclusion'] = result.returncode == 0
            
            # –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤
            priority_cmd = [
                'wmic', 'process', 'where', 'name="dnplayer.exe"',
                'CALL', 'setpriority', '128'  # High priority
            ]
            result = subprocess.run(priority_cmd, capture_output=True)
            results['process_priority'] = result.returncode == 0
            
            # –û—á–∏—Å—Ç–∫–∞ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
            cleanup_paths = [
                r'C:\LDPlayer\vms\*\cache\*',
                r'C:\Users\%USERNAME%\AppData\Local\Temp\*'
            ]
            
            for path in cleanup_paths:
                cleanup_cmd = ['del', '/q', '/s', path]
                subprocess.run(cleanup_cmd, shell=True, capture_output=True)
            
            results['cleanup'] = True
            
        except Exception as e:
            print(f"–û—à–∏–±–∫–∞ —Å–∏—Å—Ç–µ–º–Ω–æ–π –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏: {e}")
            results['system_optimization'] = False
        
        return results
    
    def monitor_resource_usage(self, emulator_names: List[str]) -> Dict[str, Dict]:
        """–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤"""
        resource_data = {}
        
        for emulator_name in emulator_names:
            try:
                # –ü–æ–ª—É—á–µ–Ω–∏–µ PID –ø—Ä–æ—Ü–µ—Å—Å–∞ —ç–º—É–ª—è—Ç–æ—Ä–∞
                pid_cmd = [
                    'wmic', 'process', 'where',
                    f'CommandLine like "%{emulator_name}%"',
                    'get', 'ProcessId', '/value'
                ]
                
                result = subprocess.run(pid_cmd, capture_output=True, text=True)
                
                if result.returncode == 0:
                    # –ü–∞—Ä—Å–∏–Ω–≥ PID
                    for line in result.stdout.split('\n'):
                        if 'ProcessId=' in line:
                            pid = line.split('=')[1].strip()
                            
                            # –ü–æ–ª—É—á–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –ø—Ä–æ—Ü–µ—Å—Å–∞
                            stats_cmd = [
                                'wmic', 'process', 'where', f'ProcessId={pid}',
                                'get', 'WorkingSetSize,PageFileUsage,CPUTime', '/value'
                            ]
                            
                            stats_result = subprocess.run(stats_cmd, capture_output=True, text=True)
                            
                            if stats_result.returncode == 0:
                                stats = {}
                                for stat_line in stats_result.stdout.split('\n'):
                                    if '=' in stat_line:
                                        key, value = stat_line.split('=', 1)
                                        stats[key.strip()] = value.strip()
                                
                                resource_data[emulator_name] = {
                                    'pid': pid,
                                    'memory_mb': int(stats.get('WorkingSetSize', 0)) // (1024 * 1024),
                                    'pagefile_mb': int(stats.get('PageFileUsage', 0)) // (1024 * 1024),
                                    'cpu_time': stats.get('CPUTime', '0')
                                }
                            
            except Exception as e:
                print(f"–û—à–∏–±–∫–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ {emulator_name}: {e}")
                resource_data[emulator_name] = {'error': str(e)}
        
        return resource_data
    
    def auto_scale_emulators(self, target_count: int, max_memory_per_emulator: int = 2048) -> bool:
        """–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ —ç–º—É–ª—è—Ç–æ—Ä–æ–≤"""
        try:
            # –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–Ω–æ–π –ø–∞–º—è—Ç–∏ —Å–∏—Å—Ç–µ–º—ã
            memory_cmd = [
                'wmic', 'computersystem', 'get', 'TotalPhysicalMemory', '/value'
            ]
            
            result = subprocess.run(memory_cmd, capture_output=True, text=True)
            
            total_memory_bytes = 0
            for line in result.stdout.split('\n'):
                if 'TotalPhysicalMemory=' in line:
                    total_memory_bytes = int(line.split('=')[1].strip())
                    break
            
            total_memory_mb = total_memory_bytes // (1024 * 1024)
            available_memory_mb = total_memory_mb * 0.8  # 80% –æ—Ç –æ–±—â–µ–π –ø–∞–º—è—Ç–∏
            
            # –†–∞—Å—á–µ—Ç –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —ç–º—É–ª—è—Ç–æ—Ä–æ–≤
            max_emulators = int(available_memory_mb // max_memory_per_emulator)
            
            if target_count > max_emulators:
                print(f"‚ö†Ô∏è –ó–∞–ø—Ä–æ—à–µ–Ω–æ {target_count} —ç–º—É–ª—è—Ç–æ—Ä–æ–≤, –Ω–æ —Å–∏—Å—Ç–µ–º–∞ –º–æ–∂–µ—Ç –ø–æ–¥–¥–µ—Ä–∂–∞—Ç—å —Ç–æ–ª—å–∫–æ {max_emulators}")
                target_count = max_emulators
            
            # –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —ç–º—É–ª—è—Ç–æ—Ä–æ–≤
            list_cmd = [self.ldconsole_path, 'list2']
            result = subprocess.run(list_cmd, capture_output=True, text=True)
            
            existing_emulators = []
            if result.returncode == 0:
                for line in result.stdout.split('\n'):
                    if 'Instagram_Bot_' in line:
                        existing_emulators.append(line.split(',')[1])
            
            current_count = len(existing_emulators)
            
            if current_count < target_count:
                # –°–æ–∑–¥–∞–Ω–∏–µ –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏—Ö —ç–º—É–ª—è—Ç–æ—Ä–æ–≤
                for i in range(current_count, target_count):
                    emulator_name = f"Instagram_Bot_{i+1:03d}"
                    
                    # –°–æ–∑–¥–∞–Ω–∏–µ —ç–º—É–ª—è—Ç–æ—Ä–∞
                    create_cmd = [
                        self.ldconsole_path, 'add',
                        '--name', emulator_name
                    ]
                    
                    result = subprocess.run(create_cmd, capture_output=True, text=True)
                    
                    if result.returncode == 0:
                        # –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–∫
                        self.optimize_emulator_settings(emulator_name)
                        print(f"‚úÖ –°–æ–∑–¥–∞–Ω –∏ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω —ç–º—É–ª—è—Ç–æ—Ä: {emulator_name}")
                    else:
                        print(f"‚ùå –û—à–∏–±–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è —ç–º—É–ª—è—Ç–æ—Ä–∞ {emulator_name}: {result.stderr}")
                        
                    time.sleep(2)  # –ü–∞—É–∑–∞ –º–µ–∂–¥—É —Å–æ–∑–¥–∞–Ω–∏–µ–º —ç–º—É–ª—è—Ç–æ—Ä–æ–≤
            
            elif current_count > target_count:
                # –£–¥–∞–ª–µ–Ω–∏–µ –ª–∏—à–Ω–∏—Ö —ç–º—É–ª—è—Ç–æ—Ä–æ–≤
                for i in range(target_count, current_count):
                    emulator_name = existing_emulators[i]
                    
                    # –û—Å—Ç–∞–Ω–æ–≤–∫–∞ —ç–º—É–ª—è—Ç–æ—Ä–∞
                    quit_cmd = [self.ldconsole_path, 'quit', '--name', emulator_name]
                    subprocess.run(quit_cmd, capture_output=True)
                    
                    # –£–¥–∞–ª–µ–Ω–∏–µ —ç–º—É–ª—è—Ç–æ—Ä–∞
                    remove_cmd = [self.ldconsole_path, 'remove', '--name', emulator_name]
                    result = subprocess.run(remove_cmd, capture_output=True, text=True)
                    
                    if result.returncode == 0:
                        print(f"‚úÖ –£–¥–∞–ª–µ–Ω —ç–º—É–ª—è—Ç–æ—Ä: {emulator_name}")
                    else:
                        print(f"‚ùå –û—à–∏–±–∫–∞ —É–¥–∞–ª–µ–Ω–∏—è —ç–º—É–ª—è—Ç–æ—Ä–∞ {emulator_name}: {result.stderr}")
            
            print(f"üéØ –¶–µ–ª–µ–≤–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–º—É–ª—è—Ç–æ—Ä–æ–≤: {target_count}")
            return True
            
        except Exception as e:
            print(f"–û—à–∏–±–∫–∞ –∞–≤—Ç–æ–º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è: {e}")
            return False
    
    def generate_imei(self) -> str:
        """–ì–µ–Ω–µ—Ä–∞—Ü–∏—è —É–Ω–∏–∫–∞–ª—å–Ω–æ–≥–æ IMEI"""
        import random
        
        # TAC (Type Allocation Code) –¥–ª—è Samsung
        tac = "35699309"
        
        # –°–µ—Ä–∏–π–Ω—ã–π –Ω–æ–º–µ—Ä (6 —Ü–∏—Ñ—Ä)
        serial = f"{random.randint(100000, 999999)}"
        
        # –†–∞—Å—á–µ—Ç –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω–æ–π —Å—É–º–º—ã –ø–æ –∞–ª–≥–æ—Ä–∏—Ç–º—É Luhn
        imei_without_checksum = tac + serial
        checksum = self.calculate_luhn_checksum(imei_without_checksum)
        
        return imei_without_checksum + str(checksum)
    
    def calculate_luhn_checksum(self, number: str) -> int:
        """–†–∞—Å—á–µ—Ç –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω–æ–π —Å—É–º–º—ã –ø–æ –∞–ª–≥–æ—Ä–∏—Ç–º—É Luhn"""
        digits = [int(d) for d in number]
        
        for i in range(len(digits) - 2, -1, -2):
            digits[i] *= 2
            if digits[i] > 9:
                digits[i] -= 9
        
        total = sum(digits)
        return (10 - (total % 10)) % 10
    
    def generate_imsi(self) -> str:
        """–ì–µ–Ω–µ—Ä–∞—Ü–∏—è IMSI"""
        import random
        
        # MCC (Mobile Country Code) - USA
        mcc = "310"
        
        # MNC (Mobile Network Code) - T-Mobile
        mnc = "260"
        
        # MSIN (Mobile Station Identification Number)
        msin = f"{random.randint(1000000000, 9999999999)}"
        
        return mcc + mnc + msin
    
    def generate_sim_serial(self) -> str:
        """–ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–µ—Ä–∏–π–Ω–æ–≥–æ –Ω–æ–º–µ—Ä–∞ SIM"""
        import random
        return f"{random.randint(10000000000000000000, 99999999999999999999)}"
    
    def generate_android_id(self) -> str:
        """–ì–µ–Ω–µ—Ä–∞—Ü–∏—è Android ID"""
        import random
        return f"{random.randint(1000000000000000, 9999999999999999):016x}"
    
    def generate_mac(self) -> str:
        """–ì–µ–Ω–µ—Ä–∞—Ü–∏—è MAC –∞–¥—Ä–µ—Å–∞"""
        import random
        
        # –ü–µ—Ä–≤—ã–π –±–∞–π—Ç –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∏—Ä—É–µ–º–æ–≥–æ –∞–¥—Ä–µ—Å–∞
        mac = [0x02]
        
        # –û—Å—Ç–∞–ª—å–Ω—ã–µ 5 –±–∞–π—Ç–æ–≤
        for _ in range(5):
            mac.append(random.randint(0x00, 0xff))
        
        return ':'.join(f'{b:02x}' for b in mac)

# –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
if __name__ == "__main__":
    optimizer = EmulatorOptimizer()
    
    # –°–∏—Å—Ç–µ–º–Ω–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è
    print("üîß –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º–Ω–æ–π –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏...")
    system_results = optimizer.optimize_system_performance()
    
    for operation, success in system_results.items():
        status = "‚úÖ" if success else "‚ùå"
        print(f"{status} {operation}")
    
    # –ê–≤—Ç–æ–º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ
    print("\nüìà –ê–≤—Ç–æ–º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ —ç–º—É–ª—è—Ç–æ—Ä–æ–≤...")
    optimizer.auto_scale_emulators(target_count=10)
    
    # –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ä–µ—Å—É—Ä—Å–æ–≤
    print("\nüìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ä–µ—Å—É—Ä—Å–æ–≤...")
    emulator_names = [f"Instagram_Bot_{i:03d}" for i in range(1, 11)]
    resources = optimizer.monitor_resource_usage(emulator_names)
    
    for emulator, stats in resources.items():
        if 'error' not in stats:
            print(f"{emulator}: {stats['memory_mb']}MB RAM, PID: {stats['pid']}")
        else:
            print(f"{emulator}: –û—à–∏–±–∫–∞ - {stats['error']}")
```

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

#### **–°–∏—Å—Ç–µ–º–∞ –º–µ—Ç—Ä–∏–∫ Prometheus**
```python
from prometheus_client import Counter, Histogram, Gauge, start_http_server
import time
import threading
from typing import Dict, Any

class MetricsCollector:
    def __init__(self):
        # –°—á–µ—Ç—á–∏–∫–∏
        self.posts_created = Counter('instagram_posts_created_total', 'Total posts created')
        self.likes_performed = Counter('instagram_likes_performed_total', 'Total likes performed')
        self.errors_occurred = Counter('instagram_errors_total', 'Total errors occurred', ['error_type'])
        
        # –ì–∏—Å—Ç–æ–≥—Ä–∞–º–º—ã –¥–ª—è –≤—Ä–µ–º–µ–Ω–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
        self.post_creation_time = Histogram('instagram_post_creation_seconds', 'Time spent creating posts')
        self.like_action_time = Histogram('instagram_like_action_seconds', 'Time spent liking posts')
        self.login_time = Histogram('instagram_login_seconds', 'Time spent logging in')
        
        # –î–∞—Ç—á–∏–∫–∏ –¥–ª—è —Ç–µ–∫—É—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è
        self.active_bots = Gauge('instagram_active_bots', 'Number of active bots')
        self.emulator_memory_usage = Gauge('emulator_memory_usage_mb', 'Memory usage per emulator', ['emulator_name'])
        self.emulator_cpu_usage = Gauge('emulator_cpu_usage_percent', 'CPU usage per emulator', ['emulator_name'])
        
        # –ó–∞–ø—É—Å–∫ HTTP —Å–µ—Ä–≤–µ—Ä–∞ –¥–ª—è –º–µ—Ç—Ä–∏–∫
        start_http_server(8000)
        
        # –ó–∞–ø—É—Å–∫ —Ñ–æ–Ω–æ–≤–æ–≥–æ —Å–±–æ—Ä–∞ –º–µ—Ç—Ä–∏–∫
        self.start_background_collection()
    
    def record_post_created(self):
        """–ó–∞–ø–∏—Å–∞—Ç—å —Å–æ–∑–¥–∞–Ω–∏–µ –ø–æ—Å—Ç–∞"""
        self.posts_created.inc()
    
    def record_like_performed(self):
        """–ó–∞–ø–∏—Å–∞—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ª–∞–π–∫–∞"""
        self.likes_performed.inc()
    
    def record_error(self, error_type: str):
        """–ó–∞–ø–∏—Å–∞—Ç—å –æ—à–∏–±–∫—É"""
        self.errors_occurred.labels(error_type=error_type).inc()
    
    def time_post_creation(self):
        """–ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä –¥–ª—è –∏–∑–º–µ—Ä–µ–Ω–∏—è –≤—Ä–µ–º–µ–Ω–∏ —Å–æ–∑–¥–∞–Ω–∏—è –ø–æ—Å—Ç–∞"""
        return self.post_creation_time.time()
    
    def time_like_action(self):
        """–ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä –¥–ª—è –∏–∑–º–µ—Ä–µ–Ω–∏—è –≤—Ä–µ–º–µ–Ω–∏ –ª–∞–π–∫–∞"""
        return self.like_action_time.time()
    
    def time_login(self):
        """–ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä –¥–ª—è –∏–∑–º–µ—Ä–µ–Ω–∏—è –≤—Ä–µ–º–µ–Ω–∏ –≤—Ö–æ–¥–∞"""
        return self.login_time.time()
    
    def update_active_bots(self, count: int):
        """–û–±–Ω–æ–≤–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∞–∫—Ç–∏–≤–Ω—ã—Ö –±–æ—Ç–æ–≤"""
        self.active_bots.set(count)
    
    def update_emulator_metrics(self, emulator_name: str, memory_mb: float, cpu_percent: float):
        """–û–±–Ω–æ–≤–∏—Ç—å –º–µ—Ç—Ä–∏–∫–∏ —ç–º—É–ª—è—Ç–æ—Ä–∞"""
        self.emulator_memory_usage.labels(emulator_name=emulator_name).set(memory_mb)
        self.emulator_cpu_usage.labels(emulator_name=emulator_name).set(cpu_percent)
    
    def start_background_collection(self):
        """–ó–∞–ø—É—Å–∫ —Ñ–æ–Ω–æ–≤–æ–≥–æ —Å–±–æ—Ä–∞ –º–µ—Ç—Ä–∏–∫"""
        def collect_system_metrics():
            while True:
                try:
                    # –ó–¥–µ—Å—å –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å —Å–±–æ—Ä —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –º–µ—Ç—Ä–∏–∫
                    # –ù–∞–ø—Ä–∏–º–µ—Ä, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –¥–∏—Å–∫–∞, —Å–µ—Ç–µ–≤–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –∏ —Ç.–¥.
                    time.sleep(30)
                except Exception as e:
                    print(f"–û—à–∏–±–∫–∞ —Å–±–æ—Ä–∞ –º–µ—Ç—Ä–∏–∫: {e}")
        
        thread = threading.Thread(target=collect_system_metrics, daemon=True)
        thread.start()

# –ì–ª–æ–±–∞–ª—å–Ω—ã–π —ç–∫–∑–µ–º–ø–ª—è—Ä –∫–æ–ª–ª–µ–∫—Ç–æ—Ä–∞ –º–µ—Ç—Ä–∏–∫
metrics = MetricsCollector()
```

---

## üìã –ó–∞–∫–ª—é—á–µ–Ω–∏–µ –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### –ò—Ç–æ–≥–æ–≤–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã

–î–∞–Ω–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç –ø–æ–ª–Ω—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É —Å–∏—Å—Ç–µ–º—ã –∞–≤—Ç–æ–ø–æ—Å—Ç–∏–Ω–≥–∞ –≤ Instagram, –≤–∫–ª—é—á–∞—é—â—É—é:

#### **üèóÔ∏è –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**
1. **–≠–º—É–ª—è—Ç–æ—Ä–Ω–∞—è —Ñ–µ—Ä–º–∞** - LDPlayer —ç–º—É–ª—è—Ç–æ—Ä—ã –¥–ª—è –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è
2. **–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏** - Appium + Python –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–µ–π—Å—Ç–≤–∏—è–º–∏
3. **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö** - PostgreSQL –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –∞–∫–∫–∞—É–Ω—Ç–æ–≤ –∏ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
4. **–ü—Ä–æ–∫—Å–∏-—Å–∏—Å—Ç–µ–º–∞** - –†–æ—Ç–∞—Ü–∏—è IP –¥–ª—è –æ–±—Ö–æ–¥–∞ –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫
5. **–í–µ–±-–ø–∞–Ω–µ–ª—å** - Flask –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
6. **–°–∏—Å—Ç–µ–º–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏** - –ê–Ω—Ç–∏–¥–µ—Ç–µ–∫—Ç –∏ –∏–º–∏—Ç–∞—Ü–∏—è —á–µ–ª–æ–≤–µ—á–µ—Å–∫–æ–≥–æ –ø–æ–≤–µ–¥–µ–Ω–∏—è

#### **‚ö° –ö–ª—é—á–µ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ 100+ Instagram –∞–∫–∫–∞—É–Ω—Ç–∞–º–∏
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –ø—É–±–ª–∏–∫–∞—Ü–∏—è –ø–æ—Å—Ç–æ–≤
- –°–∏—Å—Ç–µ–º–∞ –ª–∞–π–∫–æ–≤ –∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–π
- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- –ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
- –°–∏—Å—Ç–µ–º–∞ —Ä–µ–∑–µ—Ä–≤–Ω–æ–≥–æ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –≤–Ω–µ–¥—Ä–µ–Ω–∏—é

#### **üöÄ –ü–æ—ç—Ç–∞–ø–Ω–æ–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ:**

**–≠—Ç–∞–ø 1: –¢–µ—Å—Ç–æ–≤–∞—è —Å—Ä–µ–¥–∞ (1-5 –∞–∫–∫–∞—É–Ω—Ç–æ–≤)**
```bash
# –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- 1 —Å–µ—Ä–≤–µ—Ä: 16GB RAM, 8 CPU cores
- 5 LDPlayer —ç–º—É–ª—è—Ç–æ—Ä–æ–≤
- –ë–∞–∑–æ–≤–∞—è –≤–µ–±-–ø–∞–Ω–µ–ª—å
- –ü—Ä–æ—Å—Ç–∞—è —Å–∏—Å—Ç–µ–º–∞ –ø—Ä–æ–∫—Å–∏
```

**–≠—Ç–∞–ø 2: –ü–∏–ª–æ—Ç–Ω—ã–π –ø—Ä–æ–µ–∫—Ç (10-20 –∞–∫–∫–∞—É–Ω—Ç–æ–≤)**
```bash
# –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
- 1 –æ—Å–Ω–æ–≤–Ω–æ–π —Å–µ—Ä–≤–µ—Ä + 1 VPS –¥–ª—è —ç–º—É–ª—è—Ç–æ—Ä–æ–≤
- 20 —ç–º—É–ª—è—Ç–æ—Ä–æ–≤ —Å –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–µ–π
- –ü–æ–ª–Ω–∞—è –≤–µ–±-–ø–∞–Ω–µ–ª—å —Å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–æ–º
- –ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–µ –ø—Ä–æ–∫—Å–∏
```

**–≠—Ç–∞–ø 3: –ü–æ–ª–Ω–æ–º–∞—Å—à—Ç–∞–±–Ω–æ–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ (50-100+ –∞–∫–∫–∞—É–Ω—Ç–æ–≤)**
```bash
# –ü—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–µ–Ω–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
- –ö–ª–∞—Å—Ç–µ—Ä —Å–µ—Ä–≤–µ—Ä–æ–≤ —Å –±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–æ–π –Ω–∞–≥—Ä—É–∑–∫–∏
- Kubernetes –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è
- –°–∏—Å—Ç–µ–º–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ Prometheus + Grafana
- –í—ã—Å–æ–∫–æ–∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –ø—Ä–æ–∫—Å–∏ —Å —Ä–æ—Ç–∞—Ü–∏–µ–π
```

#### **üîí –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω—ã–µ –∞—Å–ø–µ–∫—Ç—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏:**

1. **–ö–∞—á–µ—Å—Ç–≤–æ –ø—Ä–æ–∫—Å–∏** - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–æ–ª—å–∫–æ –º–æ–±–∏–ª—å–Ω—ã–µ/—Ä–µ–∑–∏–¥–µ–Ω—Ç–Ω—ã–µ –ø—Ä–æ–∫—Å–∏
2. **–ß–µ–ª–æ–≤–µ–∫–æ–ø–æ–¥–æ–±–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ** - –°–ª—É—á–∞–π–Ω—ã–µ –∑–∞–¥–µ—Ä–∂–∫–∏ –∏ –≤–∞—Ä–∏–∞—Ç–∏–≤–Ω–æ—Å—Ç—å –¥–µ–π—Å—Ç–≤–∏–π
3. **–õ–∏–º–∏—Ç—ã –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏** - –°—Ç—Ä–æ–≥–æ–µ —Å–æ–±–ª—é–¥–µ–Ω–∏–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π Instagram
4. **–£–Ω–∏–∫–∞–ª—å–Ω—ã–µ –æ—Ç–ø–µ—á–∞—Ç–∫–∏** - –†–∞–∑–Ω—ã–µ IMEI, Android ID –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —ç–º—É–ª—è—Ç–æ—Ä–∞
5. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫** - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –∏ —Ä–µ–∞–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

#### **üìä –ú–µ—Ç—Ä–∏–∫–∏ —É—Å–ø–µ—Ö–∞:**

- **–í—Ä–µ–º—è –±–µ–∑–æ—Ç–∫–∞–∑–Ω–æ–π —Ä–∞–±–æ—Ç—ã**: >99%
- **–°–∫–æ—Ä–æ—Å—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫–∏**: <30 —Å–µ–∫—É–Ω–¥ –Ω–∞ –ø–æ—Å—Ç
- **–ü—Ä–æ—Ü–µ–Ω—Ç —É—Å–ø–µ—à–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π**: >95%
- **–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫**: <1% –≤ –º–µ—Å—è—Ü

#### **üí° –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –¥–ª—è —Ä–∞–∑–≤–∏—Ç–∏—è:**

1. **AI-–≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞** - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å GPT –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –ø–æ–¥–ø–∏—Å–µ–π
2. **–ê–Ω–∞–ª–∏—Ç–∏–∫–∞ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏** - –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –º–µ—Ç—Ä–∏–∫ –≤–æ–≤–ª–µ—á–µ–Ω–Ω–æ—Å—Ç–∏
3. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ A/B —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** - –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –≤—Ä–µ–º–µ–Ω–∏ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏
4. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å CRM** - –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å —Å–∏—Å—Ç–µ–º–∞–º–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–ª–∏–µ–Ω—Ç–∞–º–∏
5. **–ú–æ–±–∏–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ** - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º–æ–π —Å –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤

### –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –∏ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ

#### **üîß –†–µ–≥—É–ª—è—Ä–Ω–æ–µ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ:**
- –ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–∫—Å–∏
- –ï–∂–µ–º–µ—Å—è—á–Ω–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —ç–º—É–ª—è—Ç–æ—Ä–æ–≤
- –ö–≤–∞—Ä—Ç–∞–ª—å–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- –ü–æ—Å—Ç–æ—è–Ω–Ω—ã–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ª–æ–≥–æ–≤ –∏ –º–µ—Ç—Ä–∏–∫

#### **üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∏ —Å–æ–æ–±—â–µ—Å—Ç–≤–æ:**
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∏ FAQ
- –°–∏—Å—Ç–µ–º–∞ —Ç–∏–∫–µ—Ç–æ–≤ –¥–ª—è —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–π –ø–æ–¥–¥–µ—Ä–∂–∫–∏
- –°–æ–æ–±—â–µ—Å—Ç–≤–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –¥–ª—è –æ–±–º–µ–Ω–∞ –æ–ø—ã—Ç–æ–º
- –†–µ–≥—É–ª—è—Ä–Ω—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∏ –ø–∞—Ç—á–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

---

**‚ö†Ô∏è –í–∞–∂–Ω–æ–µ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ:**
–î–∞–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–∞ –∏—Å–∫–ª—é—á–∏—Ç–µ–ª—å–Ω–æ –¥–ª—è –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã—Ö —Ü–µ–ª–µ–π –∏ –ª–µ–≥–∞–ª—å–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å –ø—Ä–∞–≤–∏–ª–∞–º–∏ Instagram –∏ –º–µ—Å—Ç–Ω—ã–º –∑–∞–∫–æ–Ω–æ–¥–∞—Ç–µ–ª—å—Å—Ç–≤–æ–º. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –Ω–µ—Å—É—Ç –ø–æ–ª–Ω—É—é –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å –∑–∞ —Å–æ–±–ª—é–¥–µ–Ω–∏–µ –≤—Å–µ—Ö –ø—Ä–∏–º–µ–Ω–∏–º—ã—Ö –∑–∞–∫–æ–Ω–æ–≤ –∏ –ø—Ä–∞–≤–∏–ª –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã.

**üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è:**
–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–µ—Ç—Å—è –ø–æ–¥ –ª–∏—Ü–µ–Ω–∑–∏–µ–π MIT. –ü–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏ –≤ —Ñ–∞–π–ª–µ LICENSE.

**ü§ù –í–∫–ª–∞–¥ –≤ –ø—Ä–æ–µ–∫—Ç:**
–ú—ã –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤—É–µ–º –≤–∫–ª–∞–¥ —Å–æ–æ–±—â–µ—Å—Ç–≤–∞! –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –æ–∑–Ω–∞–∫–æ–º—å—Ç–µ—Å—å —Å —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ–º –ø–æ –≤–Ω–µ—Å–µ–Ω–∏—é –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ —Ñ–∞–π–ª–µ CONTRIBUTING.md.

---

*–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ: $(date +%Y-%m-%d)*
*–í–µ—Ä—Å–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏: 1.0.0*

### –°–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞–¥–∞—á–∞–º–∏

```python
from dataclasses import dataclass, field
from datetime import datetime, timedelta
from typing import List, Dict, Optional, Callable
from enum import Enum
import asyncio
import json
from sqlalchemy import create_engine, Column, Integer, String, DateTime, Boolean, Text
from sqlalchemy.ext.declarative import declarative_base
from sqlalchemy.orm import sessionmaker

Base = declarative_base()

class TaskStatus(Enum):
    PENDING = "pending"
    RUNNING = "running"
    COMPLETED = "completed"
    FAILED = "failed"
    CANCELLED = "cancelled"

class TaskType(Enum):
    POST = "post"
    LIKE = "like"
    FOLLOW = "follow"
    COMMENT = "comment"
    STORY = "story"

@dataclass
class PostData:
    image_path: str
    caption: str
    hashtags: List[str] = field(default_factory=list)
    location: Optional[str] = None

@dataclass
class LikeData:
    hashtag: str
    count: int = 10
    max_likes_per_hour: int = 30

class Task(Base):
    __tablename__ = 'tasks'
    
    id = Column(Integer, primary_key=True)
    account_id = Column(Integer, nullable=False)
    task_type = Column(String(50), nullable=False)
    status = Column(String(50), default=TaskStatus.PENDING.value)
    scheduled_time = Column(DateTime, nullable=False)
    created_time = Column(DateTime, default=datetime.utcnow)
    completed_time = Column(DateTime, nullable=True)
    task_data = Column(Text, nullable=False)  # JSON
    error_message = Column(Text, nullable=True)
    retry_count = Column(Integer, default=0)
    max_retries = Column(Integer, default=3)

class TaskScheduler:
    def __init__(self, database_url: str):
        self.engine = create_engine(database_url)
        Base.metadata.create_all(self.engine)
        Session = sessionmaker(bind=self.engine)
        self.session = Session()
        
        self.running_tasks: Dict[int, asyncio.Task] = {}
        self.bot_pool: Dict[int, InstagramBot] = {}
        
    def schedule_post(self, account_id: int, post_data: PostData, 
                     scheduled_time: datetime) -> int:
        """–ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ—Å—Ç–∞"""
        task = Task(
            account_id=account_id,
            task_type=TaskType.POST.value,
            scheduled_time=scheduled_time,
            task_data=json.dumps({
                'image_path': post_data.image_path,
                'caption': post_data.caption,
                'hashtags': post_data.hashtags,
                'location': post_data.location
            })
        )
        
        self.session.add(task)
        self.session.commit()
        
        return task.id
    
    def schedule_likes(self, account_id: int, like_data: LikeData,
                      scheduled_time: datetime) -> int:
        """–ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ª–∞–π–∫–æ–≤"""
        task = Task(
            account_id=account_id,
            task_type=TaskType.LIKE.value,
            scheduled_time=scheduled_time,
            task_data=json.dumps({
                'hashtag': like_data.hashtag,
                'count': like_data.count,
                'max_likes_per_hour': like_data.max_likes_per_hour
            })
        )
        
        self.session.add(task)
        self.session.commit()
        
        return task.id
    
    async def run_scheduler(self):
        """–û—Å–Ω–æ–≤–Ω–æ–π —Ü–∏–∫–ª –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞"""
        while True:
            try:
                # –ü–æ–ª—É—á–µ–Ω–∏–µ –∑–∞–¥–∞—á –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
                pending_tasks = self.session.query(Task).filter(
                    Task.status == TaskStatus.PENDING.value,
                    Task.scheduled_time <= datetime.utcnow()
                ).all()
                
                for task in pending_tasks:
                    if task.id not in self.running_tasks:
                        # –ó–∞–ø—É—Å–∫ –∑–∞–¥–∞—á–∏
                        asyncio_task = asyncio.create_task(
                            self.execute_task(task)
                        )
                        self.running_tasks[task.id] = asyncio_task
                
                # –û—á–∏—Å—Ç–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã—Ö –∑–∞–¥–∞—á
                completed_task_ids = []
                for task_id, asyncio_task in self.running_tasks.items():
                    if asyncio_task.done():
                        completed_task_ids.append(task_id)
                
                for task_id in completed_task_ids:
                    del self.running_tasks[task_id]
                
                await asyncio.sleep(30)  # –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞–∂–¥—ã–µ 30 —Å–µ–∫—É–Ω–¥
                
            except Exception as e:
                print(f"–û—à–∏–±–∫–∞ –≤ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–µ: {e}")
                await asyncio.sleep(60)
    
    async def execute_task(self, task: Task):
        """–í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∑–∞–¥–∞—á–∏"""
        try:
            # –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞
            task.status = TaskStatus.RUNNING.value
            self.session.commit()
            
            # –ü–æ–ª—É—á–µ–Ω–∏–µ –±–æ—Ç–∞ –¥–ª—è –∞–∫–∫–∞—É–Ω—Ç–∞
            bot = await self.get_bot_for_account(task.account_id)
            if not bot:
                raise Exception("–ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–ª—É—á–∏—Ç—å –±–æ—Ç–∞ –¥–ª—è –∞–∫–∫–∞—É–Ω—Ç–∞")
            
            # –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∑–∞–¥–∞—á–∏ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç–∏–ø–∞
            success = False
            if task.task_type == TaskType.POST.value:
                success = await self.execute_post_task(bot, task)
            elif task.task_type == TaskType.LIKE.value:
                success = await self.execute_like_task(bot, task)
            
            # –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞
            if success:
                task.status = TaskStatus.COMPLETED.value
                task.completed_time = datetime.utcnow()
            else:
                await self.handle_task_failure(task)
            
            self.session.commit()
            
        except Exception as e:
            await self.handle_task_error(task, str(e))
    
    async def execute_post_task(self, bot: InstagramBot, task: Task) -> bool:
        """–í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∑–∞–¥–∞—á–∏ –ø–æ—Å—Ç–∏–Ω–≥–∞"""
        try:
            task_data = json.loads(task.task_data)
            
            return bot.create_post(
                image_path=task_data['image_path'],
                caption=task_data['caption'],
                hashtags=task_data.get('hashtags', [])
            )
            
        except Exception as e:
            print(f"–û—à–∏–±–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø–æ—Å—Ç–∞: {e}")
            return False
    
    async def execute_like_task(self, bot: InstagramBot, task: Task) -> bool:
        """–í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∑–∞–¥–∞—á–∏ –ª–∞–π–∫–æ–≤"""
        try:
            task_data = json.loads(task.task_data)
            
            liked_count = bot.like_posts_by_hashtag(
                hashtag=task_data['hashtag'],
                count=task_data['count']
            )
            
            return liked_count > 0
            
        except Exception as e:
            print(f"–û—à–∏–±–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ª–∞–π–∫–æ–≤: {e}")
            return False
    
    async def get_bot_for_account(self, account_id: int) -> Optional[InstagramBot]:
        """–ü–æ–ª—É—á–µ–Ω–∏–µ –±–æ—Ç–∞ –¥–ª—è –∞–∫–∫–∞—É–Ω—Ç–∞"""
        if account_id in self.bot_pool:
            return self.bot_pool[account_id]
        
        # –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –±–æ—Ç–∞
        # –ó–¥–µ—Å—å –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –ª–æ–≥–∏–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –∞–∫–∫–∞—É–Ω—Ç–∞ –∏–∑ –ë–î
        # –∏ —Å–æ–∑–¥–∞–Ω–∏—è —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–≥–æ –±–æ—Ç–∞
        
        return None
    
    async def handle_task_failure(self, task: Task):
        """–û–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–µ—É–¥–∞—á–Ω–æ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–¥–∞—á–∏"""
        task.retry_count += 1
        
        if task.retry_count < task.max_retries:
            # –ü–æ–≤—Ç–æ—Ä–Ω–∞—è –ø–æ–ø—ã—Ç–∫–∞ —á–µ—Ä–µ–∑ –Ω–µ–∫–æ—Ç–æ—Ä–æ–µ –≤—Ä–µ–º—è
            task.status = TaskStatus.PENDING.value
            task.scheduled_time = datetime.utcnow() + timedelta(minutes=30)
        else:
            task.status = TaskStatus.FAILED.value
            task.completed_time = datetime.utcnow()
    
    async def handle_task_error(self, task: Task, error_message: str):
        """–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–∫–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–¥–∞—á–∏"""
        task.error_message = error_message
        await self.handle_task_failure(task)
        self.session.commit()

# –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞
async def main():
    scheduler = TaskScheduler("postgresql://user:password@localhost/instagram_bot")
    
    # –ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ—Å—Ç–∞
    post_data = PostData(
        image_path="/content/images/post1.jpg",
        caption="–ü—Ä–∏–≤–µ—Ç, –º–∏—Ä!",
        hashtags=["hello", "world", "instagram"]
    )
    
    scheduled_time = datetime.utcnow() + timedelta(hours=1)
    task_id = scheduler.schedule_post(1, post_data, scheduled_time)
    print(f"–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω –ø–æ—Å—Ç —Å ID: {task_id}")
    
    # –ó–∞–ø—É—Å–∫ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞
    await scheduler.run_scheduler()

if __name__ == "__main__":
    asyncio.run(main())
```

---

## üóÑÔ∏è –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞–∫–∫–∞—É–Ω—Ç–∞–º–∏

### –°—Ö–µ–º–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

```sql
-- –°–æ–∑–¥–∞–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
CREATE DATABASE instagram_automation;
USE instagram_automation;

-- –¢–∞–±–ª–∏—Ü–∞ –∞–∫–∫–∞—É–Ω—Ç–æ–≤
CREATE TABLE accounts (
    id INT PRIMARY KEY AUTO_INCREMENT,
    username VARCHAR(255) UNIQUE NOT NULL,
    password VARCHAR(255) NOT NULL,
    email VARCHAR(255),
    phone VARCHAR(50),
    full_name VARCHAR(255),
    bio TEXT,
    profile_picture_url VARCHAR(500),
    
    -- –°—Ç–∞—Ç—É—Å –∞–∫–∫–∞—É–Ω—Ç–∞
    status ENUM('active', 'suspended', 'banned', 'inactive') DEFAULT 'active',
    is_verified BOOLEAN DEFAULT FALSE,
    is_private BOOLEAN DEFAULT FALSE,
    
    -- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
    followers_count INT DEFAULT 0,
    following_count INT DEFAULT 0,
    posts_count INT DEFAULT 0,
    
    -- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏
    auto_posting_enabled BOOLEAN DEFAULT TRUE,
    auto_liking_enabled BOOLEAN DEFAULT TRUE,
    auto_following_enabled BOOLEAN DEFAULT FALSE,
    
    -- –õ–∏–º–∏—Ç—ã –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
    daily_posts_limit INT DEFAULT 3,
    daily_likes_limit INT DEFAULT 100,
    daily_follows_limit INT DEFAULT 50,
    daily_comments_limit INT DEFAULT 20,
    
    -- –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ
    emulator_name VARCHAR(255),
    proxy_id INT,
    last_activity TIMESTAMP,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    
    INDEX idx_username (username),
    INDEX idx_status (status),
    INDEX idx_emulator (emulator_name)
);

-- –¢–∞–±–ª–∏—Ü–∞ –ø—Ä–æ–∫—Å–∏
CREATE TABLE proxies (
    id INT PRIMARY KEY AUTO_INCREMENT,
    type ENUM('http', 'https', 'socks4', 'socks5') NOT NULL,
    host VARCHAR(255) NOT NULL,
    port INT NOT NULL,
    username VARCHAR(255),
    password VARCHAR(255),
    country VARCHAR(2),
    city VARCHAR(100),
    
    -- –°—Ç–∞—Ç—É—Å –ø—Ä–æ–∫—Å–∏
    status ENUM('active', 'inactive', 'banned') DEFAULT 'active',
    last_check TIMESTAMP,
    response_time INT, -- –≤ –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥–∞—Ö
    success_rate DECIMAL(5,2) DEFAULT 100.00,
    
    -- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
    accounts_count INT DEFAULT 0,
    max_accounts INT DEFAULT 5,
    
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    
    UNIQUE KEY unique_proxy (host, port),
    INDEX idx_status (status),
    INDEX idx_country (country)
);

-- –¢–∞–±–ª–∏—Ü–∞ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
CREATE TABLE content (
    id INT PRIMARY KEY AUTO_INCREMENT,
    title VARCHAR(255) NOT NULL,
    description TEXT,
    image_path VARCHAR(500) NOT NULL,
    image_url VARCHAR(500),
    
    -- –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
    image_width INT,
    image_height INT,
    image_size INT, -- –≤ –±–∞–π—Ç–∞—Ö
    image_format VARCHAR(10),
    
    -- –ö–∞—Ç–µ–≥–æ—Ä–∏–∑–∞—Ü–∏—è
    category VARCHAR(100),
    tags JSON,
    hashtags JSON,
    
    -- –°—Ç–∞—Ç—É—Å
    status ENUM('draft', 'ready', 'published', 'archived') DEFAULT 'draft',
    
    -- –ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
    scheduled_accounts JSON, -- –º–∞—Å—Å–∏–≤ ID –∞–∫–∫–∞—É–Ω—Ç–æ–≤
    publish_times JSON, -- –º–∞—Å—Å–∏–≤ –≤—Ä–µ–º–µ–Ω –ø—É–±–ª–∏–∫–∞—Ü–∏–∏
    
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    
    INDEX idx_status (status),
    INDEX idx_category (category)
);

-- –¢–∞–±–ª–∏—Ü–∞ –ø–æ—Å—Ç–æ–≤
CREATE TABLE posts (
    id INT PRIMARY KEY AUTO_INCREMENT,
    account_id INT NOT NULL,
    content_id INT,
    
    -- –î–∞–Ω–Ω—ã–µ –ø–æ—Å—Ç–∞
    caption TEXT,
    hashtags JSON,
    location VARCHAR(255),
    
    -- Instagram –¥–∞–Ω–Ω—ã–µ
    instagram_post_id VARCHAR(255),
    instagram_url VARCHAR(500),
    
    -- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
    likes_count INT DEFAULT 0,
    comments_count INT DEFAULT 0,
    shares_count INT DEFAULT 0,
    reach INT DEFAULT 0,
    impressions INT DEFAULT 0,
    
    -- –°—Ç–∞—Ç—É—Å
    status ENUM('scheduled', 'published', 'failed', 'deleted') DEFAULT 'scheduled',
    error_message TEXT,
    
    -- –í—Ä–µ–º–µ–Ω–Ω—ã–µ –º–µ—Ç–∫–∏
    scheduled_time TIMESTAMP,
    published_time TIMESTAMP,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    
    FOREIGN KEY (account_id) REFERENCES accounts(id) ON DELETE CASCADE,
    FOREIGN KEY (content_id) REFERENCES content(id) ON DELETE SET NULL,
    
    INDEX idx_account_id (account_id),
    INDEX idx_status (status),
    INDEX idx_scheduled_time (scheduled_time),
    INDEX idx_published_time (published_time)
);

-- –¢–∞–±–ª–∏—Ü–∞ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ (–ª–∞–π–∫–∏, –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏, –ø–æ–¥–ø–∏—Å–∫–∏)
CREATE TABLE activities (
    id INT PRIMARY KEY AUTO_INCREMENT,
    account_id INT NOT NULL,
    activity_type ENUM('like', 'comment', 'follow', 'unfollow', 'view_story') NOT NULL,
    
    -- –¶–µ–ª—å –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
    target_username VARCHAR(255),
    target_post_id VARCHAR(255),
    target_url VARCHAR(500),
    
    -- –î–∞–Ω–Ω—ã–µ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
    comment_text TEXT,
    hashtag VARCHAR(255),
    
    -- –†–µ–∑—É–ª—å—Ç–∞—Ç
    status ENUM('completed', 'failed', 'skipped') DEFAULT 'completed',
    error_message TEXT,
    
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    
    FOREIGN KEY (account_id) REFERENCES accounts(id) ON DELETE CASCADE,
    
    INDEX idx_account_id (account_id),
    INDEX idx_activity_type (activity_type),
    INDEX idx_created_at (created_at),
    INDEX idx_hashtag (hashtag)
);

-- –¢–∞–±–ª–∏—Ü–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫
CREATE TABLE settings (
    id INT PRIMARY KEY AUTO_INCREMENT,
    category VARCHAR(100) NOT NULL,
    key_name VARCHAR(100) NOT NULL,
    value TEXT,
    description TEXT,
    
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    
    UNIQUE KEY unique_setting (category, key_name)
);

-- –¢–∞–±–ª–∏—Ü–∞ –ª–æ–≥–æ–≤
CREATE TABLE logs (
    id INT PRIMARY KEY AUTO_INCREMENT,
    level ENUM('DEBUG', 'INFO', 'WARNING', 'ERROR', 'CRITICAL') NOT NULL,
    logger_name VARCHAR(255),
    message TEXT NOT NULL,
    
    -- –ö–æ–Ω—Ç–µ–∫—Å—Ç
    account_id INT,
    emulator_name VARCHAR(255),
    task_id INT,
    
    -- –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
    extra_data JSON,
    
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    
    INDEX idx_level (level),
    INDEX idx_account_id (account_id),
    INDEX idx_created_at (created_at),
    INDEX idx_emulator_name (emulator_name)
);

-- –í—Å—Ç–∞–≤–∫–∞ –Ω–∞—á–∞–ª—å–Ω—ã—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫
INSERT INTO settings (category, key_name, value, description) VALUES
('automation', 'max_daily_posts_per_account', '3', '–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ—Å—Ç–æ–≤ –≤ –¥–µ–Ω—å –Ω–∞ –∞–∫–∫–∞—É–Ω—Ç'),
('automation', 'max_daily_likes_per_account', '100', '–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ª–∞–π–∫–æ–≤ –≤ –¥–µ–Ω—å –Ω–∞ –∞–∫–∫–∞—É–Ω—Ç'),
('automation', 'min_delay_between_actions', '30', '–ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞ –º–µ–∂–¥—É –¥–µ–π—Å—Ç–≤–∏—è–º–∏ (—Å–µ–∫—É–Ω–¥—ã)'),
('automation', 'max_delay_between_actions', '300', '–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞ –º–µ–∂–¥—É –¥–µ–π—Å—Ç–≤–∏—è–º–∏ (—Å–µ–∫—É–Ω–¥—ã)'),
('system', 'max_concurrent_emulators', '20', '–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ —Ä–∞–±–æ—Ç–∞—é—â–∏—Ö —ç–º—É–ª—è—Ç–æ—Ä–æ–≤'),
('system', 'emulator_restart_interval', '86400', '–ò–Ω—Ç–µ—Ä–≤–∞–ª –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ —ç–º—É–ª—è—Ç–æ—Ä–æ–≤ (—Å–µ–∫—É–Ω–¥—ã)'),
('proxy', 'rotation_interval', '3600', '–ò–Ω—Ç–µ—Ä–≤–∞–ª —Ä–æ—Ç–∞—Ü–∏–∏ –ø—Ä–æ–∫—Å–∏ (—Å–µ–∫—É–Ω–¥—ã)'),
('proxy', 'max_accounts_per_proxy', '5', '–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∞–∫–∫–∞—É–Ω—Ç–æ–≤ –Ω–∞ –ø—Ä–æ–∫—Å–∏');
```

### Python –º–æ–¥–µ–ª–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ë–î

```python
from sqlalchemy import create_engine, Column, Integer, String, DateTime, Boolean, Text, JSON, Enum, DECIMAL, ForeignKey
from sqlalchemy.ext.declarative import declarative_base
from sqlalchemy.orm import sessionmaker, relationship
from sqlalchemy.sql import func
from datetime import datetime, timedelta
from typing import List, Optional, Dict, Any
import enum
import json

Base = declarative_base()

class AccountStatus(enum.Enum):
    ACTIVE = "active"
    SUSPENDED = "suspended"
    BANNED = "banned"
    INACTIVE = "inactive"

class ProxyStatus(enum.Enum):
    ACTIVE = "active"
    INACTIVE = "inactive"
    BANNED = "banned"

class ContentStatus(enum.Enum):
    DRAFT = "draft"
    READY = "ready"
    PUBLISHED = "published"
    ARCHIVED = "archived"

class PostStatus(enum.Enum):
    SCHEDULED = "scheduled"
    PUBLISHED = "published"
    FAILED = "failed"
    DELETED = "deleted"

class ActivityType(enum.Enum):
    LIKE = "like"
    COMMENT = "comment"
    FOLLOW = "follow"
    UNFOLLOW = "unfollow"
    VIEW_STORY = "view_story"

class Account(Base):
    __tablename__ = 'accounts'
    
    id = Column(Integer, primary_key=True)
    username = Column(String(255), unique=True, nullable=False)
    password = Column(String(255), nullable=False)
    email = Column(String(255))
    phone = Column(String(50))
    full_name = Column(String(255))
    bio = Column(Text)
    profile_picture_url = Column(String(500))
    
    # –°—Ç–∞—Ç—É—Å –∞–∫–∫–∞—É–Ω—Ç–∞
    status = Column(Enum(AccountStatus), default=AccountStatus.ACTIVE)
    is_verified = Column(Boolean, default=False)
    is_private = Column(Boolean, default=False)
    
    # –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
    followers_count = Column(Integer, default=0)
    following_count = Column(Integer, default=0)
    posts_count = Column(Integer, default=0)
    
    # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏
    auto_posting_enabled = Column(Boolean, default=True)
    auto_liking_enabled = Column(Boolean, default=True)
    auto_following_enabled = Column(Boolean, default=False)
    
    # –õ–∏–º–∏—Ç—ã –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
    daily_posts_limit = Column(Integer, default=3)
    daily_likes_limit = Column(Integer, default=100)
    daily_follows_limit = Column(Integer, default=50)
    daily_comments_limit = Column(Integer, default=20)
    
    # –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ
    emulator_name = Column(String(255))
    proxy_id = Column(Integer, ForeignKey('proxies.id'))
    last_activity = Column(DateTime)
    created_at = Column(DateTime, default=func.now())
    updated_at = Column(DateTime, default=func.now(), onupdate=func.now())
    
    # –°–≤—è–∑–∏
    proxy = relationship("Proxy", back_populates="accounts")
    posts = relationship("Post", back_populates="account")
    activities = relationship("Activity", back_populates="account")

class Proxy(Base):
    __tablename__ = 'proxies'
    
    id = Column(Integer, primary_key=True)
    type = Column(String(10), nullable=False)
    host = Column(String(255), nullable=False)
    port = Column(Integer, nullable=False)
    username = Column(String(255))
    password = Column(String(255))
    country = Column(String(2))
    city = Column(String(100))
    
    # –°—Ç–∞—Ç—É—Å –ø—Ä–æ–∫—Å–∏
    status = Column(Enum(ProxyStatus), default=ProxyStatus.ACTIVE)
    last_check = Column(DateTime)
    response_time = Column(Integer)  # –≤ –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥–∞—Ö
    success_rate = Column(DECIMAL(5, 2), default=100.00)
    
    # –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
    accounts_count = Column(Integer, default=0)
    max_accounts = Column(Integer, default=5)
    
    created_at = Column(DateTime, default=func.now())
    updated_at = Column(DateTime, default=func.now(), onupdate=func.now())
    
    # –°–≤—è–∑–∏
    accounts = relationship("Account", back_populates="proxy")

class Content(Base):
    __tablename__ = 'content'
    
    id = Column(Integer, primary_key=True)
    title = Column(String(255), nullable=False)
    description = Column(Text)
    image_path = Column(String(500), nullable=False)
    image_url = Column(String(500))
    
    # –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
    image_width = Column(Integer)
    image_height = Column(Integer)
    image_size = Column(Integer)  # –≤ –±–∞–π—Ç–∞—Ö
    image_format = Column(String(10))
    
    # –ö–∞—Ç–µ–≥–æ—Ä–∏–∑–∞—Ü–∏—è
    category = Column(String(100))
    tags = Column(JSON)
    hashtags = Column(JSON)
    
    # –°—Ç–∞—Ç—É—Å
    status = Column(Enum(ContentStatus), default=ContentStatus.DRAFT)
    
    # –ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
    scheduled_accounts = Column(JSON)  # –º–∞—Å—Å–∏–≤ ID –∞–∫–∫–∞—É–Ω—Ç–æ–≤
    publish_times = Column(JSON)  # –º–∞—Å—Å–∏–≤ –≤—Ä–µ–º–µ–Ω –ø—É–±–ª–∏–∫–∞—Ü–∏–∏
    
    created_at = Column(DateTime, default=func.now())
    updated_at = Column(DateTime, default=func.now(), onupdate=func.now())
    
    # –°–≤—è–∑–∏
    posts = relationship("Post", back_populates="content")

class Post(Base):
    __tablename__ = 'posts'
    
    id = Column(Integer, primary_key=True)
    account_id = Column(Integer, ForeignKey('accounts.id'), nullable=False)
    content_id = Column(Integer, ForeignKey('content.id'))
    
    # –î–∞–Ω–Ω—ã–µ –ø–æ—Å—Ç–∞
    caption = Column(Text)
    hashtags = Column(JSON)
    location = Column(String(255))
    
    # Instagram –¥–∞–Ω–Ω—ã–µ
    instagram_post_id = Column(String(255))
    instagram_url = Column(String(500))
    
    # –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
    likes_count = Column(Integer, default=0)
    comments_count = Column(Integer, default=0)
    shares_count = Column(Integer, default=0)
    reach = Column(Integer, default=0)
    impressions = Column(Integer, default=0)
    
    # –°—Ç–∞—Ç—É—Å
    status = Column(Enum(PostStatus), default=PostStatus.SCHEDULED)
    error_message = Column(Text)
    
    # –í—Ä–µ–º–µ–Ω–Ω—ã–µ –º–µ—Ç–∫–∏
    scheduled_time = Column(DateTime)
    published_time = Column(DateTime)
    created_at = Column(DateTime, default=func.now())
    updated_at = Column(DateTime, default=func.now(), onupdate=func.now())
    
    # –°–≤—è–∑–∏
    account = relationship("Account", back_populates="posts")
    content = relationship("Content", back_populates="posts")

class Activity(Base):
    __tablename__ = 'activities'
    
    id = Column(Integer, primary_key=True)
    account_id = Column(Integer, ForeignKey('accounts.id'), nullable=False)
    activity_type = Column(Enum(ActivityType), nullable=False)
    
    # –¶–µ–ª—å –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
    target_username = Column(String(255))
    target_post_id = Column(String(255))
    target_url = Column(String(500))
    
    # –î–∞–Ω–Ω—ã–µ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
    comment_text = Column(Text)
    hashtag = Column(String(255))
    
    # –†–µ–∑—É–ª—å—Ç–∞—Ç
    status = Column(String(20), default='completed')
    error_message = Column(Text)
    
    created_at = Column(DateTime, default=func.now())
    
    # –°–≤—è–∑–∏
    account = relationship("Account", back_populates="activities")

class DatabaseManager:
    def __init__(self, database_url: str):
        self.engine = create_engine(database_url, echo=False)
        Base.metadata.create_all(self.engine)
        Session = sessionmaker(bind=self.engine)
        self.session = Session()
    
    def create_account(self, username: str, password: str, **kwargs) -> Account:
        """–°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –∞–∫–∫–∞—É–Ω—Ç–∞"""
        account = Account(
            username=username,
            password=password,
            **kwargs
        )
        
        self.session.add(account)
        self.session.commit()
        return account
    
    def get_account(self, account_id: int) -> Optional[Account]:
        """–ü–æ–ª—É—á–µ–Ω–∏–µ –∞–∫–∫–∞—É–Ω—Ç–∞ –ø–æ ID"""
        return self.session.query(Account).filter(Account.id == account_id).first()
    
    def get_account_by_username(self, username: str) -> Optional[Account]:
        """–ü–æ–ª—É—á–µ–Ω–∏–µ –∞–∫–∫–∞—É–Ω—Ç–∞ –ø–æ –∏–º–µ–Ω–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è"""
        return self.session.query(Account).filter(Account.username == username).first()
    
    def get_active_accounts(self) -> List[Account]:
        """–ü–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö –∞–∫—Ç–∏–≤–Ω—ã—Ö –∞–∫–∫–∞—É–Ω—Ç–æ–≤"""
        return self.session.query(Account).filter(
            Account.status == AccountStatus.ACTIVE
        ).all()
    
    def assign_proxy_to_account(self, account_id: int, proxy_id: int) -> bool:
        """–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ –ø—Ä–æ–∫—Å–∏ –∞–∫–∫–∞—É–Ω—Ç—É"""
        account = self.get_account(account_id)
        proxy = self.session.query(Proxy).filter(Proxy.id == proxy_id).first()
        
        if not account or not proxy:
            return False
        
        if proxy.accounts_count >= proxy.max_accounts:
            return False
        
        # –û—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ —Å—Ç–∞—Ä–æ–≥–æ –ø—Ä–æ–∫—Å–∏
        if account.proxy_id:
            old_proxy = self.session.query(Proxy).filter(Proxy.id == account.proxy_id).first()
            if old_proxy:
                old_proxy.accounts_count -= 1
        
        # –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –ø—Ä–æ–∫—Å–∏
        account.proxy_id = proxy_id
        proxy.accounts_count += 1
        
        self.session.commit()
        return True
    
    def create_content(self, title: str, image_path: str, **kwargs) -> Content:
        """–°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–Ω—Ç–µ–Ω—Ç–∞"""
        content = Content(
            title=title,
            image_path=image_path,
            **kwargs
        )
        
        self.session.add(content)
        self.session.commit()
        return content
    
    def schedule_post(self, account_id: int, content_id: int, 
                     scheduled_time: datetime, **kwargs) -> Post:
        """–ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ—Å—Ç–∞"""
        post = Post(
            account_id=account_id,
            content_id=content_id,
            scheduled_time=scheduled_time,
            **kwargs
        )
        
        self.session.add(post)
        self.session.commit()
        return post
    
    def get_scheduled_posts(self, limit_time: datetime = None) -> List[Post]:
        """–ü–æ–ª—É—á–µ–Ω–∏–µ –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ—Å—Ç–æ–≤"""
        if limit_time is None:
            limit_time = datetime.utcnow()
        
        return self.session.query(Post).filter(
            Post.status == PostStatus.SCHEDULED,
            Post.scheduled_time <= limit_time
        ).all()
    
    def update_post_status(self, post_id: int, status: PostStatus, 
                          error_message: str = None):
        """–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –ø–æ—Å—Ç–∞"""
        post = self.session.query(Post).filter(Post.id == post_id).first()
        if post:
            post.status = status
            if error_message:
                post.error_message = error_message
            if status == PostStatus.PUBLISHED:
                post.published_time = datetime.utcnow()
            
            self.session.commit()
    
    def log_activity(self, account_id: int, activity_type: ActivityType, **kwargs):
        """–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏"""
        activity = Activity(
            account_id=account_id,
            activity_type=activity_type,
            **kwargs
        )
        
        self.session.add(activity)
        self.session.commit()
    
    def get_daily_activity_count(self, account_id: int, 
                               activity_type: ActivityType) -> int:
        """–ü–æ–ª—É—á–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –∑–∞ –¥–µ–Ω—å"""
        today = datetime.utcnow().date()
        tomorrow = today + timedelta(days=1)
        
        return self.session.query(Activity).filter(
            Activity.account_id == account_id,
            Activity.activity_type == activity_type,
            Activity.created_at >= today,
            Activity.created_at < tomorrow
        ).count()
    
    def can_perform_activity(self, account_id: int, 
                           activity_type: ActivityType) -> bool:
        """–ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏"""
        account = self.get_account(account_id)
        if not account or account.status != AccountStatus.ACTIVE:
            return False
        
        daily_count = self.get_daily_activity_count(account_id, activity_type)
        
        if activity_type == ActivityType.LIKE:
            return daily_count < account.daily_likes_limit
        elif activity_type == ActivityType.FOLLOW:
            return daily_count < account.daily_follows_limit
        elif activity_type == ActivityType.COMMENT:
            return daily_count < account.daily_comments_limit
        
        return True
    
    def get_account_statistics(self, account_id: int) -> Dict[str, Any]:
        """–ü–æ–ª—É—á–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –∞–∫–∫–∞—É–Ω—Ç–∞"""
        account = self.get_account(account_id)
        if not account:
            return {}
        
        today = datetime.utcnow().date()
        week_ago = today - timedelta(days=7)
        
        # –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∑–∞ —Å–µ–≥–æ–¥–Ω—è
        today_posts = self.session.query(Post).filter(
            Post.account_id == account_id,
            Post.published_time >= today
        ).count()
        
        today_likes = self.get_daily_activity_count(account_id, ActivityType.LIKE)
        today_follows = self.get_daily_activity_count(account_id, ActivityType.FOLLOW)
        
        # –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∑–∞ –Ω–µ–¥–µ–ª—é
        week_posts = self.session.query(Post).filter(
            Post.account_id == account_id,
            Post.published_time >= week_ago
        ).count()
        
        return {
            'account_info': {
                'username': account.username,
                'status': account.status.value,
                'followers': account.followers_count,
                'following': account.following_count,
                'posts': account.posts_count
            },
            'today': {
                'posts': today_posts,
                'likes': today_likes,
                'follows': today_follows
            },
            'week': {
                'posts': week_posts
            }
        }

# –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
def main():
    db = DatabaseManager("postgresql://user:password@localhost/instagram_automation")
    
    # –°–æ–∑–¥–∞–Ω–∏–µ –∞–∫–∫–∞—É–Ω—Ç–∞
    account = db.create_account(
        username="test_account",
        password="secure_password",
        email="test@example.com",
        full_name="Test Account"
    )
    
    # –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
    content = db.create_content(
        title="–ú–æ–π –ø–µ—Ä–≤—ã–π –ø–æ—Å—Ç",
        image_path="/content/images/post1.jpg",
        description="–û–ø–∏—Å–∞–Ω–∏–µ –ø–æ—Å—Ç–∞",
        hashtags=["instagram", "–∞–≤—Ç–æ–ø–æ—Å—Ç–∏–Ω–≥", "–±–æ—Ç"]
    )
    
    # –ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ—Å—Ç–∞
    scheduled_time = datetime.utcnow() + timedelta(hours=1)
    post = db.schedule_post(
        account_id=account.id,
        content_id=content.id,
        scheduled_time=scheduled_time,
        caption="–ü—Ä–∏–≤–µ—Ç, –º–∏—Ä!"
    )
    
    print(f"–ü–æ—Å—Ç –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω —Å ID: {post.id}")

if __name__ == "__main__":
    main()
```

---

## üîí –°–∏—Å—Ç–µ–º–∞ –ø—Ä–æ–∫—Å–∏ –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–∫—Å–∏

#### **–ö–ª–∞—Å—Å –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ø—Ä–æ–∫—Å–∏**
```python
import requests
import time
import random
from typing import List, Dict, Optional, Tuple
from dataclasses import dataclass
from concurrent.futures import ThreadPoolExecutor, as_completed
import threading

@dataclass
class ProxyInfo:
    host: str
    port: int
    username: Optional[str] = None
    password: Optional[str] = None
    protocol: str = 'http'
    country: Optional[str] = None
    response_time: Optional[float] = None
    success_rate: float = 100.0
    last_check: Optional[float] = None
    is_working: bool = True

class ProxyManager:
    def __init__(self):
        self.proxies: List[ProxyInfo] = []
        self.proxy_pool: Dict[str, List[ProxyInfo]] = {}
        self.lock = threading.Lock()
        
    def add_proxy(self, proxy: ProxyInfo):
        """–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–∫—Å–∏ –≤ –ø—É–ª"""
        with self.lock:
            self.proxies.append(proxy)
            
            # –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –ø–æ —Å—Ç—Ä–∞–Ω–∞–º
            country = proxy.country or 'unknown'
            if country not in self.proxy_pool:
                self.proxy_pool[country] = []
            self.proxy_pool[country].append(proxy)
    
    def load_proxies_from_file(self, file_path: str):
        """–ó–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–æ–∫—Å–∏ –∏–∑ —Ñ–∞–π–ª–∞"""
        try:
            with open(file_path, 'r') as f:
                for line in f:
                    line = line.strip()
                    if not line or line.startswith('#'):
                        continue
                    
                    # –§–æ—Ä–º–∞—Ç: protocol://username:password@host:port
                    # –∏–ª–∏ host:port:username:password
                    proxy = self._parse_proxy_string(line)
                    if proxy:
                        self.add_proxy(proxy)
                        
        except FileNotFoundError:
            print(f"–§–∞–π–ª –ø—Ä–æ–∫—Å–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω: {file_path}")
    
    def _parse_proxy_string(self, proxy_str: str) -> Optional[ProxyInfo]:
        """–ü–∞—Ä—Å–∏–Ω–≥ —Å—Ç—Ä–æ–∫–∏ –ø—Ä–æ–∫—Å–∏"""
        try:
            if '://' in proxy_str:
                # –§–æ—Ä–º–∞—Ç: protocol://username:password@host:port
                parts = proxy_str.split('://')
                protocol = parts[0]
                rest = parts[1]
                
                if '@' in rest:
                    auth, address = rest.split('@')
                    username, password = auth.split(':')
                else:
                    username, password = None, None
                    address = rest
                
                host, port = address.split(':')
                
            else:
                # –§–æ—Ä–º–∞—Ç: host:port:username:password
                parts = proxy_str.split(':')
                if len(parts) >= 2:
                    host, port = parts[0], parts[1]
                    username = parts[2] if len(parts) > 2 else None
                    password = parts[3] if len(parts) > 3 else None
                    protocol = 'http'
                else:
                    return None
            
            return ProxyInfo(
                host=host,
                port=int(port),
                username=username,
                password=password,
                protocol=protocol
            )
            
        except Exception as e:
            print(f"–û—à–∏–±–∫–∞ –ø–∞—Ä—Å–∏–Ω–≥–∞ –ø—Ä–æ–∫—Å–∏ {proxy_str}: {e}")
            return None
    
    def check_proxy(self, proxy: ProxyInfo, timeout: int = 10) -> bool:
        """–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ –ø—Ä–æ–∫—Å–∏"""
        try:
            proxy_dict = {
                'http': f'{proxy.protocol}://',
                'https': f'{proxy.protocol}://'
            }
            
            if proxy.username and proxy.password:
                proxy_dict['http'] += f'{proxy.username}:{proxy.password}@'
                proxy_dict['https'] += f'{proxy.username}:{proxy.password}@'
            
            proxy_dict['http'] += f'{proxy.host}:{proxy.port}'
            proxy_dict['https'] += f'{proxy.host}:{proxy.port}'
            
            start_time = time.time()
            
            response = requests.get(
                'http://httpbin.org/ip',
                proxies=proxy_dict,
                timeout=timeout
            )
            
            end_time = time.time()
            proxy.response_time = end_time - start_time
            proxy.last_check = time.time()
            
            if response.status_code == 200:
                proxy.is_working = True
                return True
            else:
                proxy.is_working = False
                return False
                
        except Exception as e:
            proxy.is_working = False
            proxy.last_check = time.time()
            return False
    
    def check_all_proxies(self, max_workers: int = 50):
        """–ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ—Ö –ø—Ä–æ–∫—Å–∏ –≤ –ø—É–ª–µ"""
        print(f"–ü—Ä–æ–≤–µ—Ä—è–µ–º {len(self.proxies)} –ø—Ä–æ–∫—Å–∏...")
        
        with ThreadPoolExecutor(max_workers=max_workers) as executor:
            futures = {
                executor.submit(self.check_proxy, proxy): proxy 
                for proxy in self.proxies
            }
            
            working_count = 0
            for future in as_completed(futures):
                proxy = futures[future]
                try:
                    is_working = future.result()
                    if is_working:
                        working_count += 1
                        print(f"‚úÖ {proxy.host}:{proxy.port} - OK ({proxy.response_time:.2f}s)")
                    else:
                        print(f"‚ùå {proxy.host}:{proxy.port} - FAILED")
                except Exception as e:
                    print(f"‚ùå {proxy.host}:{proxy.port} - ERROR: {e}")
        
        print(f"–†–∞–±–æ—Ç–∞—é—â–∏—Ö –ø—Ä–æ–∫—Å–∏: {working_count}/{len(self.proxies)}")
    
    def get_working_proxies(self) -> List[ProxyInfo]:
        """–ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ —Ä–∞–±–æ—Ç–∞—é—â–∏—Ö –ø—Ä–æ–∫—Å–∏"""
        return [proxy for proxy in self.proxies if proxy.is_working]
    
    def get_random_proxy(self, country: str = None) -> Optional[ProxyInfo]:
        """–ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ª—É—á–∞–π–Ω–æ–≥–æ –ø—Ä–æ–∫—Å–∏"""
        if country and country in self.proxy_pool:
            available_proxies = [p for p in self.proxy_pool[country] if p.is_working]
        else:
            available_proxies = self.get_working_proxies()
        
        if not available_proxies:
            return None
        
        return random.choice(available_proxies)
    
    def get_proxy_for_emulator(self, emulator_id: str) -> Optional[ProxyInfo]:
        """–ü–æ–ª—É—á–µ–Ω–∏–µ –ø—Ä–æ–∫—Å–∏ –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —ç–º—É–ª—è—Ç–æ—Ä–∞"""
        # –ó–¥–µ—Å—å –º–æ–∂–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ª–æ–≥–∏–∫—É –ø—Ä–∏–≤—è–∑–∫–∏ –ø—Ä–æ–∫—Å–∏ –∫ —ç–º—É–ª—è—Ç–æ—Ä–∞–º
        # –ù–∞–ø—Ä–∏–º–µ—Ä, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ö–µ—à –æ—Ç ID —ç–º—É–ª—è—Ç–æ—Ä–∞
        
        working_proxies = self.get_working_proxies()
        if not working_proxies:
            return None
        
        # –î–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –≤—ã–±–æ—Ä –Ω–∞ –æ—Å–Ω–æ–≤–µ ID —ç–º—É–ª—è—Ç–æ—Ä–∞
        proxy_index = hash(emulator_id) % len(working_proxies)
        return working_proxies[proxy_index]

# –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
proxy_manager = ProxyManager()
proxy_manager.load_proxies_from_file('proxies.txt')
proxy_manager.check_all_proxies()

# –ü–æ–ª—É—á–µ–Ω–∏–µ –ø—Ä–æ–∫—Å–∏ –¥–ª—è —ç–º—É–ª—è—Ç–æ—Ä–∞
proxy = proxy_manager.get_proxy_for_emulator('emulator_001')
if proxy:
    print(f"–ü—Ä–æ–∫—Å–∏ –¥–ª—è —ç–º—É–ª—è—Ç–æ—Ä–∞: {proxy.host}:{proxy.port}")
```

### –°–∏—Å—Ç–µ–º–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –∏ –∞–Ω—Ç–∏–¥–µ—Ç–µ–∫—Ç

```python
import random
import time
import hashlib
import uuid
from typing import Dict, List, Any
from dataclasses import dataclass
from datetime import datetime, timedelta

@dataclass
class DeviceFingerprint:
    """–û—Ç–ø–µ—á–∞—Ç–æ–∫ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –¥–ª—è –∞–Ω—Ç–∏–¥–µ—Ç–µ–∫—Ç–∞"""
    device_model: str
    android_version: str
    build_number: str
    manufacturer: str
    brand: str
    imei: str
    android_id: str
    serial_number: str
    mac_address: str
    resolution: str
    dpi: int
    user_agent: str

class AntiDetectionSystem:
    def __init__(self):
        self.device_models = [
            'SM-G973F', 'SM-G975F', 'SM-N975F', 'SM-A505F', 'SM-A705F',
            'Pixel 4', 'Pixel 4 XL', 'Pixel 3a', 'Pixel 3a XL',
            'OnePlus 7T', 'OnePlus 8', 'OnePlus 8 Pro',
            'LG-H870', 'LG-H930', 'LG-V350',
            'HUAWEI P30', 'HUAWEI P30 Pro', 'HUAWEI Mate 20'
        ]
        
        self.android_versions = [
            '9', '10', '11', '12'
        ]
        
        self.resolutions = [
            '720x1280', '1080x1920', '1440x2560', '1080x2340'
        ]
        
        self.user_agents = [
            'Instagram 239.0.0.13.109 Android (29/10; 420dpi; 1080x2340; samsung; SM-G973F; beyond1; exynos9820; en_US; 369468651)',
            'Instagram 238.0.0.17.109 Android (28/9; 480dpi; 1080x1920; OnePlus; ONEPLUS A6000; OnePlus6; qcom; en_US; 369468651)',
            'Instagram 237.0.0.16.109 Android (30/11; 440dpi; 1080x2400; Google; Pixel 4; flame; flame; en_US; 369468651)'
        ]
    
    def generate_device_fingerprint(self, seed: str = None) -> DeviceFingerprint:
        """–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç–ø–µ—á–∞—Ç–∫–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞"""
        if seed:
            random.seed(seed)
        
        device_model = random.choice(self.device_models)
        android_version = random.choice(self.android_versions)
        resolution = random.choice(self.resolutions)
        
        # –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—è –ø–æ –º–æ–¥–µ–ª–∏
        if device_model.startswith('SM-'):
            manufacturer = 'samsung'
            brand = 'Samsung'
        elif device_model.startswith('Pixel'):
            manufacturer = 'Google'
            brand = 'Google'
        elif device_model.startswith('OnePlus'):
            manufacturer = 'OnePlus'
            brand = 'OnePlus'
        elif device_model.startswith('LG-'):
            manufacturer = 'LGE'
            brand = 'LG'
        elif device_model.startswith('HUAWEI'):
            manufacturer = 'HUAWEI'
            brand = 'HUAWEI'
        else:
            manufacturer = 'unknown'
            brand = 'Unknown'
        
        return DeviceFingerprint(
            device_model=device_model,
            android_version=android_version,
            build_number=self._generate_build_number(),
            manufacturer=manufacturer,
            brand=brand,
            imei=self._generate_imei(),
            android_id=self._generate_android_id(),
            serial_number=self._generate_serial(),
            mac_address=self._generate_mac_address(),
            resolution=resolution,
            dpi=self._calculate_dpi(resolution),
            user_agent=random.choice(self.user_agents)
        )
    
    def _generate_imei(self) -> str:
        """–ì–µ–Ω–µ—Ä–∞—Ü–∏—è IMEI"""
        # –ü—Ä–æ—Å—Ç–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è IMEI (–≤ —Ä–µ–∞–ª—å–Ω–æ—Å—Ç–∏ –Ω—É–∂–Ω–æ –±–æ–ª–µ–µ —Å–ª–æ–∂–Ω–∞—è –ª–æ–≥–∏–∫–∞)
        imei = ''.join([str(random.randint(0, 9)) for _ in range(15)])
        return imei
    
    def _generate_android_id(self) -> str:
        """–ì–µ–Ω–µ—Ä–∞—Ü–∏—è Android ID"""
        return hashlib.md5(str(uuid.uuid4()).encode()).hexdigest()[:16]
    
    def _generate_serial(self) -> str:
        """–ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–µ—Ä–∏–π–Ω–æ–≥–æ –Ω–æ–º–µ—Ä–∞"""
        return ''.join(random.choices('ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789', k=10))
    
    def _generate_mac_address(self) -> str:
        """–ì–µ–Ω–µ—Ä–∞—Ü–∏—è MAC –∞–¥—Ä–µ—Å–∞"""
        mac = [random.randint(0x00, 0xff) for _ in range(6)]
        return ':'.join(f'{x:02x}' for x in mac)
    
    def _generate_build_number(self) -> str:
        """–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –Ω–æ–º–µ—Ä–∞ —Å–±–æ—Ä–∫–∏"""
        return f"{''.join(random.choices('ABCDEFGHIJKLMNOPQRSTUVWXYZ', k=3))}{random.randint(10, 99)}"
    
    def _calculate_dpi(self, resolution: str) -> int:
        """–†–∞—Å—á–µ—Ç DPI –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è"""
        width, height = map(int, resolution.split('x'))
        if width >= 1440:
            return random.choice([560, 640])
        elif width >= 1080:
            return random.choice([420, 480])
        else:
            return random.choice([320, 360])

class BehaviorSimulator:
    """–°–∏–º—É–ª—è—Ç–æ—Ä —á–µ–ª–æ–≤–µ—á–µ—Å–∫–æ–≥–æ –ø–æ–≤–µ–¥–µ–Ω–∏—è"""
    
    def __init__(self):
        self.typing_patterns = {
            'fast': (0.05, 0.15),
            'normal': (0.1, 0.3),
            'slow': (0.2, 0.5)
        }
        
        self.scroll_patterns = {
            'quick': (0.5, 1.0),
            'normal': (1.0, 2.0),
            'slow': (2.0, 4.0)
        }
    
    def get_typing_delay(self, pattern: str = 'normal') -> float:
        """–ü–æ–ª—É—á–µ–Ω–∏–µ –∑–∞–¥–µ—Ä–∂–∫–∏ –ø—Ä–∏ –ø–µ—á–∞—Ç–∏"""
        min_delay, max_delay = self.typing_patterns.get(pattern, self.typing_patterns['normal'])
        return random.uniform(min_delay, max_delay)
    
    def get_scroll_delay(self, pattern: str = 'normal') -> float:
        """–ü–æ–ª—É—á–µ–Ω–∏–µ –∑–∞–¥–µ—Ä–∂–∫–∏ –ø—Ä–∏ —Å–∫—Ä–æ–ª–ª–µ"""
        min_delay, max_delay = self.scroll_patterns.get(pattern, self.scroll_patterns['normal'])
        return random.uniform(min_delay, max_delay)
    
    def get_action_delay(self, base_delay: float = 2.0, variance: float = 1.0) -> float:
        """–ü–æ–ª—É—á–µ–Ω–∏–µ –∑–∞–¥–µ—Ä–∂–∫–∏ –º–µ–∂–¥—É –¥–µ–π—Å—Ç–≤–∏—è–º–∏"""
        return random.uniform(base_delay - variance, base_delay + variance)
    
    def should_take_break(self, actions_count: int, break_probability: float = 0.1) -> bool:
        """–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –ø–µ—Ä–µ—Ä—ã–≤–∞"""
        if actions_count > 0 and actions_count % 10 == 0:
            return random.random() < break_probability
        return False
    
    def get_break_duration(self) -> float:
        """–ü–æ–ª—É—á–µ–Ω–∏–µ –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –ø–µ—Ä–µ—Ä—ã–≤–∞"""
        return random.uniform(30, 300)  # –æ—Ç 30 —Å–µ–∫—É–Ω–¥ –¥–æ 5 –º–∏–Ω—É—Ç

class ActivityLimiter:
    """–û–≥—Ä–∞–Ω–∏—á–∏—Ç–µ–ª—å –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫"""
    
    def __init__(self):
        self.limits = {
            'likes_per_hour': 30,
            'follows_per_hour': 20,
            'comments_per_hour': 10,
            'posts_per_day': 3,
            'stories_per_day': 5
        }
        
        self.activity_log: Dict[str, List[datetime]] = {}
    
    def can_perform_action(self, account_id: str, action_type: str) -> bool:
        """–ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –¥–µ–π—Å—Ç–≤–∏—è"""
        key = f"{account_id}_{action_type}"
        now = datetime.utcnow()
        
        if key not in self.activity_log:
            self.activity_log[key] = []
        
        # –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –∑–∞–ø–∏—Å–µ–π
        if action_type.endswith('_per_hour'):
            cutoff_time = now - timedelta(hours=1)
            limit_key = action_type
        else:  # per_day
            cutoff_time = now - timedelta(days=1)
            limit_key = action_type
        
        self.activity_log[key] = [
            timestamp for timestamp in self.activity_log[key]
            if timestamp > cutoff_time
        ]
        
        # –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–∏–º–∏—Ç–∞
        current_count = len(self.activity_log[key])
        limit = self.limits.get(limit_key, 0)
        
        return current_count < limit
    
    def log_action(self, account_id: str, action_type: str):
        """–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω–æ–≥–æ –¥–µ–π—Å—Ç–≤–∏—è"""
        key = f"{account_id}_{action_type}"
        if key not in self.activity_log:
            self.activity_log[key] = []
        
        self.activity_log[key].append(datetime.utcnow())
    
    def get_next_available_time(self, account_id: str, action_type: str) -> datetime:
        """–ü–æ–ª—É—á–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏, –∫–æ–≥–¥–∞ –¥–µ–π—Å—Ç–≤–∏–µ —Å–Ω–æ–≤–∞ —Å—Ç–∞–Ω–µ—Ç –¥–æ—Å—Ç—É–ø–Ω—ã–º"""
        key = f"{account_id}_{action_type}"
        
        if key not in self.activity_log or not self.activity_log[key]:
            return datetime.utcnow()
        
        if action_type.endswith('_per_hour'):
            oldest_action = min(self.activity_log[key])
            return oldest_action + timedelta(hours=1)
        else:  # per_day
            oldest_action = min(self.activity_log[key])
            return oldest_action + timedelta(days=1)

# –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –æ—Å–Ω–æ–≤–Ω—ã–º –±–æ—Ç–æ–º
class SecureInstagramBot(InstagramBot):
    def __init__(self, emulator_name: str, appium_port: int = 4723):
        super().__init__(emulator_name, appium_port)
        
        self.anti_detection = AntiDetectionSystem()
        self.behavior_sim = BehaviorSimulator()
        self.activity_limiter = ActivityLimiter()
        
        # –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —É–Ω–∏–∫–∞–ª—å–Ω–æ–≥–æ –æ—Ç–ø–µ—á–∞—Ç–∫–∞ –¥–ª—è —ç—Ç–æ–≥–æ –±–æ—Ç–∞
        self.device_fingerprint = self.anti_detection.generate_device_fingerprint(emulator_name)
        
        self.actions_count = 0
    
    def secure_action(self, action_func, action_type: str, *args, **kwargs):
        """–ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –¥–µ–π—Å—Ç–≤–∏—è —Å –ø—Ä–æ–≤–µ—Ä–∫–∞–º–∏"""
        account_id = kwargs.get('account_id', self.emulator_name)
        
        # –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–∏–º–∏—Ç–æ–≤
        if not self.activity_limiter.can_perform_action(account_id, action_type):
            next_time = self.activity_limiter.get_next_available_time(account_id, action_type)
            self.logger.warning(f"–õ–∏–º–∏—Ç {action_type} –¥–æ—Å—Ç–∏–≥–Ω—É—Ç. –°–ª–µ–¥—É—é—â–µ–µ –¥–µ–π—Å—Ç–≤–∏–µ: {next_time}")
            return False
        
        # –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –ø–µ—Ä–µ—Ä—ã–≤–∞
        if self.behavior_sim.should_take_break(self.actions_count):
            break_duration = self.behavior_sim.get_break_duration()
            self.logger.info(f"–î–µ–ª–∞–µ–º –ø–µ—Ä–µ—Ä—ã–≤ –Ω–∞ {break_duration:.1f} —Å–µ–∫—É–Ω–¥")
            time.sleep(break_duration)
        
        # –ó–∞–¥–µ—Ä–∂–∫–∞ –ø–µ—Ä–µ–¥ –¥–µ–π—Å—Ç–≤–∏–µ–º
        delay = self.behavior_sim.get_action_delay()
        time.sleep(delay)
        
        # –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –¥–µ–π—Å—Ç–≤–∏—è
        try:
            result = action_func(*args, **kwargs)
            
            if result:
                self.activity_limiter.log_action(account_id, action_type)
                self.actions_count += 1
            
            return result
            
        except Exception as e:
            self.logger.error(f"–û—à–∏–±–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è {action_type}: {e}")
            return False
    
    def secure_create_post(self, image_path: str, caption: str, hashtags: List[str] = None) -> bool:
        """–ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –ø–æ—Å—Ç–∞"""
        return self.secure_action(
            super().create_post,
            'posts_per_day',
            image_path=image_path,
            caption=caption,
            hashtags=hashtags
        )
    
    def secure_like_posts(self, hashtag: str, count: int = 10) -> int:
        """–ë–µ–∑–æ–ø–∞—Å–Ω—ã–π –ª–∞–π–∫ –ø–æ—Å—Ç–æ–≤"""
        liked_count = 0
        
        for i in range(count):
            if self.secure_action(self._like_single_post, 'likes_per_hour'):
                liked_count += 1
            else:
                break
        
        return liked_count
    
    def _like_single_post(self) -> bool:
        """–õ–∞–π–∫ –æ–¥–Ω–æ–≥–æ –ø–æ—Å—Ç–∞ (–≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–π –º–µ—Ç–æ–¥)"""
        # –ó–¥–µ—Å—å –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –ª–æ–≥–∏–∫–∞ –ª–∞–π–∫–∞ –æ–¥–Ω–æ–≥–æ –ø–æ—Å—Ç–∞
        return True

# –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
def main():
    bot = SecureInstagramBot("Instagram_Bot_001")
    
    if bot.connect_to_emulator():
        # –ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –ø–æ—Å—Ç–∞
        success = bot.secure_create_post(
            image_path="/content/images/post1.jpg",
            caption="–ú–æ–π –±–µ–∑–æ–ø–∞—Å–Ω—ã–π –ø–æ—Å—Ç!",
            hashtags=["–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å", "–∞–≤—Ç–æ–ø–æ—Å—Ç–∏–Ω–≥"]
        )
        
        if success:
            print("‚úÖ –ü–æ—Å—Ç —Å–æ–∑–¥–∞–Ω –±–µ–∑–æ–ø–∞—Å–Ω–æ")
        else:
            print("‚ùå –ù–µ —É–¥–∞–ª–æ—Å—å —Å–æ–∑–¥–∞—Ç—å –ø–æ—Å—Ç (–≤–æ–∑–º–æ–∂–Ω–æ, –¥–æ—Å—Ç–∏–≥–Ω—É—Ç –ª–∏–º–∏—Ç)")
        
        bot.disconnect()

if __name__ == "__main__":
    main()
```